\chapter{論理の形式化}
\label[chapter]{chap:formulize}

数理論理学が数学の一分野として成功を収めた要因のひとつとして，
素朴的直観を伴わない形式的な記号列を主役に据えたことが挙げられる．
ともすれば，このことは「数学で用いる論理について研究する分野」
という一般的な認識と矛盾するように見えることだろう．
実際，この「形式的な記号列」に関する議論の結果を根拠に
我々が普段使っている「論理」について何かを主張したい場合，
これらの間の橋渡しを行うのは主張したい当人の責任であり，
数理論理学の諸定理がその橋渡しについて何かを保証してくれることはない．
これは，理論物理学で得られた結果から現実世界について言及したり，
統計モデルの性質をもとに現実で得られたデータ（あるいはその生成元）に
ついて言及したりする営みに非常によく似ている．

もし読者にこのような「それそのものではないが何らかの意味で
関連性をもつと期待される概念の性質をもとに，目的の対象について議論する」
という営みに親しみがあれば，本章の内容は極めて身近に思えるに違いない．
そして，この手法が科学においていかに強力であるかを知っていれば，
数理論理学の手法がいかに強力であるかも予想できるだろう．


\section{数学における論理}
\label[section]{sec:logic}

数学が世界的に広く学ばれていることが示すように，
数学（および算数）を学ぶことは有益であるというのが一般的な認識である．
「なぜ数学を学ぶのか」という問いの答えは個々人によってさまざまだろうが，
少なくとも日本の数学教育学の分野では，
数学教育の目的は
\begin{enumerate}
	\item 陶冶的目的
	\item 実用的目的
	\item 文化的目的
\end{enumerate}
の3つの観点から論じられるのが一般的である%
\footnote{%
	念のため述べておくが，これは観点別評価とはまったく別の話である．
}%
．
このうち，実用的目的と文化的目的については字面から容易に想像できる通りの意味である．
すなわち，実用的目的は教科教育の内容そのものの修得と実社会における活用を志向したものであり，
文化的目的は文化としての学問を継承・発展させていくことを志向したものである．

一方で，1つ目の陶冶的目的についてはやや聞きなれない言葉である．
ここでの「陶冶」という言葉には「人の性質や能力を円満に育てること」という意味である．
すなわち，陶冶的目的というのは人間形成や価値観・（教科教育の内容以外での）能力を養成することを志向したものである．
具体例を挙げていけばキリがないが，「論理的思考力の養成」という目的は数学教育に明るくない人からでも
頻繁に挙がるものである%
\footnote{%
	ちなみに，価値観的な側面では「合理性を重んじる態度の養成」が挙げられる．
}%
．
なぜ数学を学ぶことで論理的思考力を養成できるのだと考えられているかといえば，
「数学」と「論理」の間に切っても切れない深いつながりがあるからに他ならない．
数学では，ある言明が「正しい」と主張したいとき，
なぜそうなるのかということの説明，すなわち「証明」が求められる．

\begin{Ex} \label[Ex]{Ex:simpleLogic}
	「6は偶数である」という言明が正しいと主張したいとする．
	この言明は以下のように「証明」できる：
	\begin{enumerate}
		\item 「偶数」とは「2の倍数，すなわち2の整数倍として表される整数」のことである．
		\item \(6 = 2 \times 3\)と表わされる．
		\item 3は整数である．
		\item 6は2の整数倍として表わされる．
		\item 従って，6は偶数である．
	\end{enumerate}
\end{Ex}

我々は\cref{Ex:simpleLogic}のような議論でもって「6は偶数である」という主張を「正しい」と認識する．
そして\cref{Ex:simpleLogic}のような議論ができないとき，我々は「それはおそらく正しくないのだろう」と認識する%
\footnote{%
	「誰がどうやってもこのような議論はできないのだ」ということを主張したければ，そのこともまた「証明」が求められる．
}%
．
また，数学においてはこの「証明」からあいまいさを極力排除することを求めるのも特徴的である．

\begin{Ex} \label[Ex]{Ex:ambiguousLogic}
	「円と楕円は位相同型である」という言明が正しいを主張したいとする．
	しかし，以下のような議論は通常「証明」とは認められない：
	\begin{enumerate}
		\item 2つの図形が位相同型であるというのは，一方を連続的に変形して他方と一致させることができることをいう．
		\item 円を少しつぶすことで楕円と一致させることができる．
		\item よって，円と楕円は位相同型である．
	\end{enumerate}
\end{Ex}

位相同型というものがどういうものか知らずとも，\cref{Ex:ambiguousLogic}のような議論が「うさんくさい」ことに気づくであろう%
\footnote{%
	このような体験をもとにして「数学では厳格な証明のみが許容されるのだ」などとは思ってはいけない．
	むしろ，\cref{Ex:ambiguousLogic}のような素朴的直観を精密化することによって厳格な証明を与えることも多い．
	許容されないのは，このようなラフな議論によって正しさの検証が完全に完結したかのように考えることである．
}%
．
例えば，
\begin{itemize}
	\item 「連続的に変形」とはいったい何をどうすることなのか
	\item 「少しつぶす」とはいったい何をどうすることなのか
\end{itemize}
あたりであろう．いずれも議論の中で使われている言葉の定義にあいまいさがあることに起因している．

言葉の定義にあいまいさがあること以外に，数学においては不適切であるとみなされる「証明」の例も挙げよう．

\begin{Ex} \label[Ex]{Ex:insufficientLogic}
	「すべての整数\(n\)に対して，整数\(n^2\)を3で割った余りは0か1である」という言明が正しいと主張したいとする．
	しかし，以下のような議論は通常「証明」とは認められない：
	\begin{enumerate}
		\item \(n = 2\)とする．\(n^2 = 4\)を3で割った余りは1である．
		\item \(n = 11\)とする．\(n^2 = 121\)を3で割った余りは1である．
		\item \(n = 30\)とする．\(n^2 = 900\)を3で割った余りは0である．
		\item 以上より，「すべての整数\(n\)に対して，整数\(n^2\)を3で割った余りは0か1である」ことが確かめられた．
	\end{enumerate}
\end{Ex}

\Cref{Ex:insufficientLogic}での議論では，それぞれの場面で言葉の定義があいまいさがある場所はなかった．
この議論が不適切であるとみなされるのは，ひとえに検証が不十分であることが要因である．
整数というのは無限に多く存在するのにもかかわらず，\(2, 11, 30\)の3つでしか検証していない．
残りの整数に対して一切言及していないにもかかわらず，
あたかもすべての整数に対して検証が終わったかのように議論を進めていることが問題である．
これらの実験は，もとの言明の「正しさの根拠」とはなりえない%
\footnote{%
	当然のことであるが，正しさの根拠にならないからといって「これらの実験は無価値である」などと思ってはいけない．
	このような実験は，数学という広大な世界を渡り歩いていくうえで学術的・教育的に極めて高い価値を有する．
	学習者にとって対象が未知であればなおさらである．
}%
．
すべての整数に対してもれなく検証を終えて初めて正しさが検証されたといえる%
\footnote{%
	愚直に行うのは当然不可能なので，検証には別の方法を考える必要がある．
	ポピュラーなのは，特定の整数に限定しない一般的な整数\(n\)を「任意に」とって，
	この\(n\)に対してだけ主張の正しさを検証することである．
}．

以上のように数学と論理との関係について振り返ってみると，例えば次のような疑問が浮かび上がってくる：
\begin{enumerate}
	\item 我々は，数学において「正しい」ことと「証明できる」ことを自然に同一視してしまっているが，それは適切なのだろうか？
	\item 我々は，数学における議論の進め方に適切なものとそうでないものがあることを知っている．その境界になっているものは何か？
	\item 数学における論理について，通常の数学と同じように何か一般的な法則や定理を見いだせないだろうか？
\end{enumerate}
これらの問いに完全な解答を与えるのは極めて困難であろう．
何を主張しても「そういう意見もあるよね」程度の立ち位置に落ち着いてしまいそうである．
「証明」や「正しさ」の意味するところがあいまいであることが解答の難しさに拍車をかけている．

数理論理学では，このあいまいさに対して一定の解決策を見出すことができる．
それは「論理そのものに対して直接議論することはせず，代わりに形式的な記号列について議論すること」である．
これがいったいどういうことなのかを次節以降で学んでいく．

\section{記号論理学} \label[section]{sec:symbolicLogic}

数学では，議論したい対象を表現するために記号を用いることが多い．
そして，記号化は単なる略記というだけでなくそれが意味するところを明確にするという役割も担うことがある．
典型的なのは文字である．

\begin{Ex} \label[Ex]{Ex:numericsymbol}
	「2」や「3」などのような特定の整数に対してではなく一般の整数に対して議論したいとき，
	「整数\(n\)」のように記号を用いて対象の整数を表現することが多い．
	「2」や「3」のような具体的な整数を表現する「数字」ではなく
	特に取り決めのない「文字」を使用することにより，「いまは特定の整数に限らない一般論を展開しているのだ」
	という意図がはっきりする．
	むろん「どんな整数に対しても」のように記号を使わず言葉で述べてもよいが，
	文章を書くのが相当に面倒になることは想像に難くない．
\end{Ex}

\Cref{Ex:numericsymbol}と同じことを数学における論理でも行うことを考える．
すなわち，「正しい」であったり「証明できる」という言葉の代わりに何らかの記号を用いるのである．
しかし，これでは単なる略記にしかなっておらず，あいまいさに対する解決策にはなっていない．
「何らかの主張\(A\)が正しいことを〇〇を表す」とか「\(\Gamma\)から\(B\)が証明できることを～と表す」
などと書いたところであいまいさが何一つ解消されてはいない．
これでは\cref{sec:logic}の最後で述べた問いへの解答とはなりえない．

ここで視点を変えて，「その記号は何らかの意味を有しているとは考えず，ただそこにあるのみである」
と考えてみよう．「2」や「3」という「数字」は我々にとって具体的な「数」を表すための記号であるが，
それはそれとして単に「2」や「3」のような形をした記号であるととらえることもできる．

\begin{Ex} \label[Ex]{Ex:objectsum}
	3つの記号\(2,3,+\)を書き並べた「\(2 + 3\)」という記号列を考える．
	素朴にはこの記号列を「これは2と3の和で5を表す」のように言いたくなるが，
	これを単なる記号列であると考える文脈においてはそのようなことはいえない．
	そもそも「5」という記号すら登場してはいないのである．
	この文脈においては，『記号「5」は記号列「\(2 + 3\)」の略記であると定義する』
	というように明示的に定義する必要がある．
\end{Ex}

\Cref{Ex:objectsum}のような議論を数学における論理についても適用してみよう．

\begin{Ex} \label[Ex]{Ex:objectLogic}
	「\(\Gamma\)から\(A\)を証明できる」と解釈できることを期待して，
	「\(\Gamma \LKImply A\)」という記号列を導入する．
	この時点では，「\(\Gamma \LKImply A\)」という記号列は単にそういう記号列であるというのみであり，
	「\(\Gamma\)から\(A\)を証明できる」などという意味は有していない．
	ただ単に我々がそう期待しているだけである．
\end{Ex}

このような記号の中で，数学的主張を構成するために使用される記号を特に%
\index[widx]{ろんりきごう@論理記号}%
\term{論理記号}と呼ぶことがある%
\footnote{%
	「論理記号」という言葉は「論理に関連した記号」程度の意味合いで雑に使われがちな言葉であり，
	数学者の間で共通認識があるわけではないようである．
	実際，\(\forall\)と\(\exists\)は%
	\index[widx]{りょうかし@量化子}%
	\term{量化子}と呼ばれることもある．
	定義がないと困る場合にはその場で定義して使うようにすればよい．
}%
．
本書で扱う論理記号の一覧を\cref{tab:logicalsymbol}に示す．

\index[sidx]{\(\bot\)：矛盾}
\index[sidx]{\(\lnot\)：否定}
\index[sidx]{\(\land\)：連言（かつ）}
\index[sidx]{\(\lor\)：選言（または）}
\index[sidx]{\(\to\)：含意（ならば）}
\index[sidx]{\(\forall\)：全称（すべて）}
\index[sidx]{\(\exists\)：存在}
\begin{table}[htbp]
	\centering
	\caption{本書で登場する論理記号の一覧とその記号についての素朴的直観}
	\label{tab:logicalsymbol}
	\begin{tabular}{ccc}
		\toprule
		記号          & 素朴的直観   & 通常の数学における使用例                                   \\
		\midrule
		\(\bot\)    & 矛盾      & \(\bot\)：矛盾する                                  \\
		\(\lnot\)   & 否定      & \(\lnot A\)：\(A\)でない                           \\
		\(\land\)   & 連言（かつ）  & \(A \land B\)：\(A\)かつ\(B\)                     \\
		\(\lor\)    & 選言（または） & \(A \lor B\)：\(A\)または\(B\)                     \\
		\(\to\)     & 含意（ならば） & \(A \to B\)：\(A\)ならば\(B\)                      \\
		\(\forall\) & 全称（すべて） & \(\forall x \varphi\)：すべての\(x\)に対して\(\varphi\) \\
		\(\exists\) & 存在      & \(\exists x \varphi\)：\(\varphi\)となる\(x\)が存在する \\
		\bottomrule
	\end{tabular}
\end{table}

\(\forall\)や\(\exists\)のような論理記号は，
現代的にはこのような直感を捨てて純粋な記号列に対する議論であることを明示するために導入される．
従って，『「\(\forall x \varphi\)」は「すべての\(x\)に対して\(\varphi\)」という意味である』のような言明は
厳密には誤りであり，しかもその誤りは本質的なものである%
\footnote{%
	特に数理論理学と関係ない分野では，そのように導入したところで不都合は生じない．
	リアルタイム性が要求されるセミナーや講義の場等では書く文字数が少ない論理記号は便利である．
	一方で，数理論理学がこれだけ市民権を得ていることを考えれば，
	数学を専門とする人くらいは論理記号が単なる略記表現でないことを認識しておくべきであろう．
	その上で，時間の節約という目的であえて濫用するのであれば，そのことについてはまったく問題ないと考えられる．
}%
．



このような立場に立つと，数学で使う論理にかかわるさまざまな概念が
素朴的直観の伴わない形式的な記号列やそれに対する操作として「翻訳」できることに気づく．
そして，そのような「記号列への操作ゲーム」が有する性質を調べるのは数学が得意とするところである．
数理論理学も発展して久しく，現在ではさまざまな流儀や理論が存在するが，
本書では数学で使う論理にかかわるさまざまな概念を形式的な記号列やそれに対する操作として
「翻訳」する作業を体験することを目的とし，次章以降では話題を相当に絞って解説する．
数理論理学の広大な世界については，他の本を参照されたい．



\section{メタとオブジェクト} \label[section]{sec:metaobject}

数理論理学では，形式的な記号列やその操作に関する数学的性質を研究する．
このとき，集合や写像といった数学での道具は通常通り使用する．
これは，形式的記号列の世界の中で構成した「集合論」の性質を研究する場合でも変わらない．
循環論法になっているかのように思えるが，研究対象は集合論そのものではなくそれを模した
形式的記号列への操作ゲームなのだから，循環論法になっているわけではない．
一方で，そのような議論の中では自分が今どちらの立場なのか混乱しがちである．

本書では形式的記号列の世界での「集合論」は取り扱わないが，等号「\(=\)」については取り扱う．
形式的記号列の世界でも等号が登場するので，容易に区別をつけるために我々が普段使っている等号の方を%
\index[sidx]{\(\equiv\)：メタ側における等号}%
\begin{align}
	\equiv
	\label{eq:equiv}
\end{align}
のように書き表しておくこととする．2つの記号列\(s, t\)に対する「\(s \equiv t\)」は
「\(s\)と\(t\)が（順序も含めて）まったく同じ記号列である」ことを示す．

上記のように，議論の対象として登場する理論や言語を%
\index[widx]{オブジェクト@オブジェクト}%
\term{オブジェクト}側であるといい，
議論のために用いている理論や言語を%
\index[widx]{メタ@メタ}%
\term{メタ}側であるなどということがある．
形式的記号列の世界での「集合論」を扱う文脈では，
その形式的記号列の世界での「集合論」がオブジェクト側であり，
研究のための道具として用いている集合論がメタ側である．

以降，本書では扱う記号がオブジェクト側であることを明示することを意図し，
その記号をタイプライタ体で「%
\index[sidx]{\(\obj{x}\)：オブジェクト側の記号}%
\(\obj{x}\)」のように表すことがある．
また，メタ側での記号は通常通り「%
\index[sidx]{\(x\)：メタ側の記号}%
\(x\)」のようにイタリック体で表す．