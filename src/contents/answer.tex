\chapter{演習問題解答} \label{chap:answer}

\section*{\Cref{chap:formulize}}

\subsection*{\Cref{Que:termexample}} \label{answer:termexample}

\(\obj{e}\)は変数記号，\(\obj{x}\)は変数記号なので，どちらも\(\symcal{L}_1\)項である．
これと\(\obj{\ast}\)がアリティ2の関数記号であることにより，\(\apply{\obj{\ast}}{\obj{e}, \obj{x}}\)が
\(\symcal{L}_1\)項であることがわかる．
\(\obj{y}\)も変数記号であり\(\symcal{L_1}\)項なので，
\(\apply{\obj{\ast}}{\apply{\obj{\ast}}{\obj{e}, \obj{x}}, \obj{y}}\)は\(\symcal{L}_1\)項である．

また，\(\obj{e}\apply{\mathord{\obj{\ast}}}{\obj{e}, \obj{e}}\)は変数記号でも定数記号でもないため，
これが\(\symcal{L}_1\)項であるためには
\cref{Def:term}における3番目の規則を最後に適用していなければならない．
このとき最初の文字は関数記号である必要があるが，\(\obj{e}\)は定数記号であり関数記号ではない．
従って，\(\obj{e}\apply{\mathord{\obj{\ast}}}{\obj{e}, \obj{e}}\)は\(\symcal{L}_1\)項ではない．

\subsection*{\Cref{Que:logicalexpression}}

\(\obj{x}, \obj{y}\)は変数記号であり，従って\(\symcal{L}_1\)項である．
また，\(\obj{\ast}\)がアリティ2の関数記号であることから，
\(\apply{\mathord{\obj{\ast}}}{\obj{x}, \obj{y}}\)と
\(\apply{\mathord{\obj{\ast}}}{\obj{y}, \obj{x}}\)はいずれも\(\symcal{L}_1\)項である．
よって，
\(\paren{\apply{\mathord{\obj{\ast}}}{\obj{y}, \obj{x}} = \apply{\mathord{\obj{\ast}}}{\obj{y}, \obj{x}}}\)
は\(\symcal{L}_1\)論理式である．

\(\obj{\leq}\)がアリティ2の関係記号であることから，
\(\apply{\mathord{\obj{\leq}}}{\obj{x}, \obj{y}}\)は\(\symcal{L}_2\)論理式である．
ゆえに，\(\paren{\forall \obj{y}\apply{\mathord{\obj{\leq}}}{\obj{x}, \obj{y}}}\)
は\(\symcal{L}_2\)論理式である．
このことから\(\paren{\forall \obj{x}\paren{\forall \obj{y}\apply{\mathord{\obj{\leq}}}{\obj{x}, \obj{y}}}}\)
が\(\symcal{L}_2\)論理式であることも従う．

さて，\(\paren{\apply{\exists \obj{x}}{\obj{x}}}\)が\(\symcal{L}\)論理式であるとすれば，
\(\obj{x}\)は\(\symcal{L}\)論理式でなければならない．しかし，変数記号が論理式であることはないので
\(\paren{\apply{\exists \obj{x}}{\obj{x}}}\)は\(\symcal{L}\)論理式ではない．
一方で，\(\paren{\obj{x} = \obj{x}}\)は\(\symcal{L}\)論理式であるから
\(\paren{\apply{\exists \obj{x}}{\obj{x} = \obj{x}}}\)は\(\symcal{L}\)論理式である．

\(\apply{\forall \obj{x}}{\obj{x} \obj{\ast} \obj{e} = \obj{x}}\)が\(\symcal{L}_1\)論理式であるとすれば，
これまでの議論と同様にして\(\obj{x} \obj{\ast} \obj{e}\)が\(\symcal{L}_1\)項でなければならないことがわかる．
しかし，\(\obj{\ast}\)の次の文字が開きカッコ「\(\lparen\)」ではないので
これは\(\symcal{L}_1\)項とはなりえない．よって，
\(\apply{\forall \obj{x}}{\obj{x} \obj{\ast} \obj{e} = \obj{x}}\)は\(\symcal{L}_1\)論理式ではない．
\(\apply{\forall \obj{x}}{\obj{x} = \obj{x}}\)については，1文字目が開きカッコ「\(\lparen\)」でも
関係記号でもないことから\(\symcal{L}_1\)論理式でないことが従う．

\subsection*{\Cref{Que:invalidtheory}}

2つ目の\(\symcal{L}\)論理式からは，\(\obj{e}\)が変数記号であることが伺える．
しかしそうだとすると最後の\(\symcal{L}\)論理式
\[
	\forall \obj{x} \exists \obj{y} \paren{\obj{y} \obj{\ast} \obj{x} = \obj{e}}
\]
が\(\symcal{L}\)閉論理式にならない．問題文で挙げた3つの論理式からなる集合が
\(\symcal{L}\)理論になっていないという意味で構文的に不適切である．

最後の\(\symcal{L}\)論理式を
\[
	\exists \obj{e} \forall \obj{x} \exists \obj{y} \paren{\obj{y} \obj{\ast} \obj{x} = \obj{e}}
\]
としてしまえば\(\symcal{L}\)閉論理式になるので，問題文で挙げた3つの\(\symcal{L}\)論理式のうち
3つ目だけをこちらに置き換えたものは\(\symcal{L}\)理論となる．
しかし，この\(\symcal{L}\)理論は「群論の公理化」としては不適切であって，
2つ目と3つ目の\(\symcal{L}\)論理式をまとめて
\[
	\exists \obj{e} \paren{
		\forall \obj{x} \paren{\obj{e} \obj{\ast} \obj{x} = \obj{x}}
		\land \forall \obj{x} \exists \obj{y} \paren{\obj{y} \obj{\ast} \obj{x} = \obj{e}}
	}
\]
とするのが正しい．
なぜそうしなければならないのか，
そしてなぜそうすれば「よい」のかについては，この段階ではわからない．

\subsection*{\Cref{Que:sequent}}

\(\varphi \to \psi \sequent \lnot \varphi \lor \psi\)の導出：
\begin{enumerate}
	\item \(\varphi \to \psi \sequent \varphi \to \psi\)\quad (ID)
	\item \(\lnot \paren{\lnot \varphi \lor \psi} \sequent \lnot \paren{\lnot \varphi \lor \psi}\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi, {\varphi \to \psi} \sequent \psi\)\quad （1,3から(\(\to\)E)による）
	\item \(\varphi, {\varphi \to \psi} \sequent \lnot \varphi \lor \psi\)\quad （4から(\(\lor\)I)による）
	\item \(\varphi, {\varphi \to \psi}, \lnot \paren{\lnot \varphi \lor \psi} \sequent \bot\)\quad （2, 5から(w), (e), (\(\lnot\)E)による）
	\item \(\varphi \to \psi, \lnot \paren{\lnot \varphi \lor \psi} \sequent \lnot \varphi\)\quad （6から(\(\lnot\)I)による）
	\item \(\varphi \to \psi, \lnot \paren{\lnot \varphi \lor \psi} \sequent \lnot \varphi \lor \psi\)\quad （7から(\(\lor\)I)による）
	\item \(\varphi \to \psi, \lnot \paren{\lnot \varphi \lor \psi} \sequent \bot\)\quad （2, 8から(w), (\(\lnot\)E)による）
	\item \(\varphi \to \psi \sequent \lnot \lnot \paren{\lnot \varphi \lor \psi}\)\quad （9から(e), (\(\lnot\)E)による）
	\item \(\varphi \to \psi \sequent \lnot \varphi \lor \psi\)\quad （10から(DNF)による）
\end{enumerate}

\(\lnot \varphi \lor \psi \sequent \varphi \to \psi\)の導出：
\begin{enumerate}
	\item \(\lnot \varphi \lor \psi \sequent \lnot \varphi \lor \psi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\lnot \varphi \sequent \lnot \varphi\)\quad (ID)
	\item \(\lnot \psi, \varphi, \lnot \varphi \sequent \bot\)\quad （2, 3から(w), (e), (\(\lnot\)E)による）
	\item \(\varphi, \lnot \varphi \sequent \lnot \lnot \psi\)\quad （4から(\(\lnot\)I)による）
	\item \(\varphi, \lnot \varphi \sequent \psi\)\quad （5から(DNF)による）
	\item \(\psi \sequent \psi\)\quad (ID)
	\item \(\lnot \varphi \lor \psi, \varphi \sequent \psi\)\quad （1, 6, 7から(e), (\(\lor\)E), (c)による）
	\item \(\lnot \varphi \lor \psi \sequent \varphi \to \psi\)\quad （8から(e), (\(\to\)I)による）
\end{enumerate}

\(\lnot \paren{\varphi \lor \psi} \sequent \lnot \varphi \land \lnot \psi\)の導出：
\begin{enumerate}
	\item \(\lnot \paren{\varphi \lor \psi} \sequent \lnot \paren{\varphi \lor \psi}\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi \sequent \varphi \lor \psi\)\quad （2から(\(\lor\)I)による）
	\item \(\varphi, \lnot \paren{\varphi \lor \psi} \sequent \bot\)\quad （1, 3から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \paren{\varphi \lor \psi} \sequent \lnot \varphi\)\quad （4から(\(\lnot\)I)による）
	\item \(\lnot \paren{\varphi \lor \psi} \sequent \lnot \psi\)\quad （上と同様にして導出できるので省略）
	\item \(\lnot \paren{\varphi \lor \psi} \sequent \lnot \varphi \land \lnot \psi\)\quad （5, 6から(\(\land\)I)による）
\end{enumerate}

\(\lnot \varphi \land \lnot \psi \sequent \lnot \paren{\varphi \lor \psi}\)の導出：
\begin{enumerate}
	\item \(\lnot \varphi \land \lnot \psi\)\quad (ID)
	\item \(\varphi \lor \psi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\lnot \varphi \land \lnot \psi \sequent \lnot \varphi\)\quad （1から(\(\land\)E)による）
	\item \(\varphi, \lnot \varphi \land \lnot \psi \sequent \bot\)\quad （3, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\psi, \lnot \varphi \land \lnot \psi \sequent \bot\)\quad （上と同様にして導出できるので省略）
	\item \(\varphi \lor \psi, \lnot \varphi \land \lnot \psi \sequent \bot\)\quad （2, 5, 6から(\(\lor\)E), (c)による）
	\item \(\lnot \varphi \land \lnot \psi \sequent \lnot \paren{\varphi \lor \psi}\)\quad （7から(\(\lnot\)I)による）
\end{enumerate}