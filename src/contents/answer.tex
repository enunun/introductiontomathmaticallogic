\chapter{演習問題解答} \label{chap:answer}

\section*{\Cref{chap:formulize}}

\subsection*{\Cref{que:transitiveclosure}}

\(X\)上の二項関係として直積集合\(X \times X\)を考えると，\(X \times X\)は\(\prec\)を含む推移的な\(X\)上の二項関係である．
よって，\(\prec\)を含む推移的な\(X\)上の二項関係の全体を\(\symcal{R}\)とおくと，\(\symcal{R}\)は空でない．
\(\mathord{\prec'} = \bigcap \symcal{R}\)は，\(\prec\)を含む推移的な\(X\)上の二項関係で包含関係に対して最小のものである．これを示そう．

まず，\(\prec'\)が\(\prec\)を含む推移的な\(X\)上の二項関係であることを示す．
\(x \prec y\)とする．このとき，すべての\(R \in \symcal{R}\)に対して
\(x \mathrel{R} y\)となるので\(x \prec' y\)となる．
\(\prec' \subset X \times X\)であることもあわせて\(\prec'\)は\(\prec\)を含む\(X\)上の二項関係であることがわかる．
\(\prec'\)の推移性を示す．\(x \prec' y\)かつ\(y \prec' z\)とする．
任意の\(R \in \symcal{R}\)に対し，\(x \mathrel{R} y\)かつ\(y \mathrel{R} z\)となる．
\(R\)は推移的なので\(x \mathrel{R} z\)である．ゆえに\(x \prec' z\)となり，\(\prec'\)が推移的であることが従う．

最後に\(\prec'\)が\(\prec\)を含む推移的な\(X\)上の二項関係で包含関係に関して最小のものであることを示そう．
\(x \prec' y\)とする．\(\prec\)を含む推移的な\(X\)上の二項関係\(R\)を任意にとる．
このとき，\(R \in \symcal{R}\)であるから\(x \mathrel{R} y\)でなければならない．
従って，集合として\(\prec' \subset R\)が成り立つので，\(\prec'\)が\(\prec\)を含む推移的な\(X\)上の二項関係で包含関係に対して最小のものであることがわかる．

\subsection*{\Cref{que:proofinductivedefinition}}

一意性について：
任意の\(x \in X\)に対して\cref{eq:inductivedifinition}を満たす写像\(f, g \colon X \to Y\)がとれたとして，
すべての\(x \in X\)に対して\(\apply{f}{x} = \apply{g}{x}\)が成り立つことを整礎帰納法によって示す．
（\Cref{Thm:well-foundedinduction}を直接適用できるような形にしたければ，
\(A = \Set{x \in X | \apply{f}{x} = \apply{g}{x}}\)とおき，\(A = X\)を示せばよい．）
\(x \in X\)を1つとり，\(y \prec x\)を満たす任意の\(y \in X\)に対して\(\apply{f}{y} = \apply{g}{y}\)が成り立つと仮定する．
このとき，\(\Set{y | y \prec x}\)上ではつねに\(\apply{f}{y} = \apply{g}{y}\)だから
\(f \restriction \Set{y | y \prec x} = g \restriction \Set{y | y \prec x}\)であり，
さらに\(f,g\)はともに\cref{eq:inductivedifinition}を満たすことから
\[
	\apply{f}{x} = \apply{G}{f \restriction \Set{y | y \prec x}} = \apply{G}{ g \restriction \Set{y | y \prec x}} = \apply{g}{x}
\]
となることから\(\apply{f}{x} = \apply{g}{x}\)が成り立つ．よって\cref{Thm:well-foundedinduction}によって
すべての\(x \in X\)に対して\(\apply{f}{x} = \apply{g}{x}\)が成り立つので\(f = g\)が従う．

存在性について：
\Cref{Thm:inductivedifinition}の証明で精密化されていないのは，
任意の\(x \in X\)に対して「写像\(f \colon \Set{y | y \prec x} \to Y \)で\(y \prec x\)となる任意の\(y \in X\)に対して
\(\apply{f}{y} = \apply{G}{f \restriction \Set{z | z \prec y}}\)となるものが存在する」
ことが成り立つことの証明である．これを整礎帰納法によって示す．
\(w \prec x\)なる任意の\(w\)においてはこの主張が成り立つものとする．
このとき，一意性の証明とまったく同様にして各\(w\)に対してこの主張を成り立たせる
写像\(f\)がただ1つであることがわかる．これを\(f_w\)と表すことにする．
写像\(f_x \colon \Set{y | y \prec x} \to Y\)を以下のように定める：
各\(y \in \Set{z | z \prec x}\)に対し，\(y \prec z\)かつ\(z \prec x\)となる\(z \in X\)が存在するならば
\(X\)の空でない部分集合
\(\Set{z \in X | \text{\(y \prec z\)かつ\(z \prec x\)}}\)の極小元を\(m\)として
\(\apply{f}{y} = \apply{f_m}{y}\)とする．
そのような\(z\)が存在しないならば\(\apply{f_x}{y} = \apply{G}{f_y}\)とする．
この\(f_x\)は\(y \prec x\)となるすべての\(y \in X\)に対して\(\apply{f}{y} = \apply{G}{f \restriction \Set{z | z \prec y}}\)
を満たす．


\subsection*{\Cref{Que:recursivedefinition}}

自然数\(n\)に対する集合\(L_n \subset \KleeneClosure{\Sigma}\)を，以下のように帰納的に定義する：
まず，\(L_0\)を数字全体の集合とする．各\(n\)について，\(L_n\)から\(L_{n+1}\)を
\begin{equation*}
	L_{n+1} = L_n \cup \Set{\obj{\lparen} t_1 \obj{+} t_2 \obj{\rparen} | t_1, t_2 \in L_n}
\end{equation*}
によって定める．

このようにして定義される列\(L_0, L_1, \dots\)は，\Cref{Que:recursivedefinition}における規則1, 2, 3をすべて満たす．
数式全体の集合\(L\)は，この列\(L_0, L_1, \dots\)を使って
\begin{equation*}
	L = \bigcup_{n \in \NaturalNumbers} L_n
\end{equation*}
と定義できる．

\subsection*{\Cref{Que:well-foundedexample}}

まず，\(\prec'\)の非反射性を示そう．
\(t \prec' t\)となる\(t \in L\)が存在すると仮定すると，\cref{eq:recursivedefinitiondepthorder}により
この\(t\)は\(\apply{\depth}{t} < \apply{\depth}{t}\)
を満たさなければならず\(<\)の非反射性に矛盾する．よって\(\prec'\)は非反射的である．

次に，\(\prec'\)の推移性を示す．
\(t_1 \prec' t_2\)かつ\(t_2 \prec' t_3\)となる\(t_1, t_2, t_3 \in L\)を任意にとる．
このとき，\cref{eq:recursivedefinitiondepthorder}により
\(\apply{\depth}{t_1} < \apply{\depth}{t_2}\)かつ\(\apply{\depth}{t_2} < \apply{\depth}{t_3}\)である．
よって\(<\)の推移性から\(\apply{\depth}{t_1} < \apply{\depth}{t_3}\)となるので，\cref{eq:recursivedefinitiondepthorder}から
\(t_1 \prec' t_3\)となることがわかる．従って，\(\prec'\)は推移的である．

\(\prec'\)が整礎であることを示そう．
\(L'\)を\(L\)の空でない部分集合とする．このとき，\(\NaturalNumbers\)の部分集合
\begin{equation*}
	N = \Set{\apply{\depth}{t} | t \in L'}
\end{equation*}
は空でない．よって，\(\NaturalNumbers\)上の通常の大小関係\(<\)の整礎性から\(N\)の極小元\(x\)をとることができる．
\(x = \apply{\depth}{t}\)を満たす\(t\)が1つとれるが，
\(x\)が\(N\)の極小元であることから\(y < x\)を満たす\(N\)の元\(y\)
は存在せず，\cref{eq:recursivedefinitiondepthorder}から\(u \prec' t\)
を満たす\(u \in L'\)も存在しない．
従って\(t\)は\(L'\)の極小元であることから，\(\prec'\)は整礎な半順序であることがわかる．

なお，上記\(t\)は\(L'\)に対して一意であるとは限らない．
例えば，\(L'\)が数字を元としてもつならば，その数字すべてが\(L'\)の極小元である．

\subsection*{\Cref{Que:recursivedefinitiondepth}}

\(t\)が数字ならば\(t \in L_0\)なので，\(\apply{\depth}{t} = 0 + 1 = 1\)であり，
\cref{eq:Que:recursivedefinitiondepth_numeral}が成り立つ．
\(t_1, t_2 \in L\)とする．
このとき，\(t_1 \in L_n\)となる\(n\)のうち最小のもの\(m = \apply{\depth}{t_1} - 1\)と，
\(t_2 \in L_n\)となる\(n\)のうち最小のもの\(l = \apply{\depth}{t_2} - 1\)がそれぞれとれる．
\(m \leq l\)ならば，\(l\)は\(t_1 \in L_n\)と\(t_2 \in L_n\)をともに満たす\(n\)のうち最小のものである．
よって\(l + 1\)は\(\obj{\lparen} t_1 \obj{+} t_2 \obj{\rparen} \in L_n\)を満たす\(n\)のうち最小のものであって，
\begin{equation*}
	\apply{\depth}{\obj{\lparen} t_1 \obj{+} t_2 \obj{\rparen}} = l + 1 + 1 = \apply{\depth}{t_2} + 1
\end{equation*}
となる．\(l < m\)の場合も同様に
\begin{equation*}
	\apply{\depth}{\obj{\lparen} t_1 \obj{+} t_2 \obj{\rparen}} = \apply{\depth}{t_1} + 1
\end{equation*}
となる．
\(m \leq l\)のときは\(\apply{\depth}{t_1} \leq \apply{\depth}{t_2}\)であり
\(l < m\)のときは\(\apply{\depth}{t_2} < \apply{\depth}{t_1}\)であるから，
\cref{eq:Que:recursivedefinitiondepth_inductionstep}が成り立つことがわかる．

\subsection*{\Cref{Que:inductivedifinition}}

\Cref{Que:well-foundedexample}の結果により，\(\prec\)の推移閉包\(\prec'\)は整礎な半順序である．
そこで，
写像\(G \colon \bigcup_{t \in L} \NaturalNumbers^{\Set{s \in L | s \prec' t }} \to \NaturalNumbers\)を次のように定める：
\(f \in \bigcup_{t \in L} \NaturalNumbers^{\Set{s \in | s \prec' t}}\)をとると，
\(f\)はある\(t \in L\)についての\(\Set{s \in | s \prec' t}\)から\(\NaturalNumbers\)への写像である．
\(t\)が極小元である場合，すなわち\(f\)が空写像である場合は
\[
	\apply{G}{f} = 0
\]
とする．
なお，\(L\)の極小元は数字に限る．
\(t\)が極小元でない場合，\(t' \prec' t\)となる\(t' \in L\)が存在する．
このとき，\(t_1 \prec t\)となる\(t_1 \in L\)もとれるので\(t_2 \prec t\)となる\(t_2 \in L\)
もとれる．このような\(t_1, t_2\)の組は一意に定まるので，
\[
	\apply{G}{f} = \apply{f}{t_1} + \apply{f}{t_2} + 1
\]
とする．
このとき，\cref{Thm:inductivedifinition}により，写像\({\size} \colon L \to \NaturalNumbers\)
で任意の\(t \in L\)に対して
\[
	\apply{\size}{t} = \apply{G}{ \size \restriction \Set{s \in L | s \prec' t}}
\]
を満たすものがただ1つ定まる．
この\(\size\)が\cref{Que:inductivedifinition}で定義しようとした数式の大きさを表す写像にほかならない．


\subsection*{\Cref{Que:structuralinductionexample}}

\(t \in L\)を1つとり，\(u \prec' t\)を満たすすべての\(u\)に対して\cref{eq:sizedepthinequality}が成り立つと仮定する．
このとき，この\(t\)についても\cref{eq:sizedepthinequality}が成り立つことを示す．

\(t\)が数字ならば，\(\apply{\size}{t}\)と\(\apply{\depth}{t}\)はともに1なので\cref{eq:sizedepthinequality}は成り立つ．
\(t\)が数字でないとき，\(t\)は\(t_1, t_2 \in L\)を用いて\(\obj{\lparen} t_1 \obj{+} t_2 \obj{\rparen}\)と表される．
このとき，\(t_1 \prec' t\)かつ\(t_2 \prec' t\)なので，\(t_1, t_2\)はともに\cref{eq:sizedepthinequality}を満たす．
よって
\begin{align*}
	\apply{\size}{t} & = \apply{\size}{t_1} + \apply{\size}{t_2} + 1                      \\
	                 & \leq 2^{\apply{\depth}{t_1}} - 1 + 2^{\apply{\depth}{t_2}} - 1 + 1 \\
	                 & = 2^{\max\Set{\apply{\depth}{t_1}, \apply{\depth}{t_2}} + 1} - 1   \\
	                 & = 2^{\apply{\depth}{t}} - 1
\end{align*}
だから，この\(t\)についても\cref{eq:sizedepthinequality}が成り立つ．

以上より，整礎帰納法によって
すべての\(t \in L\)に対して\cref{eq:sizedepthinequality}が成り立つ．


\section*{\Cref{chap:syntax}}

\subsection*{\Cref{Que:termexample}}

\(\obj{e}\)は変数記号，\(\obj{x}\)は変数記号なので，どちらも\(\symcal{L}_1\)項である．
これと\(\obj{\ast}\)がアリティ2の関数記号であることにより，\(\apply{\obj{\ast}}{\obj{e}, \obj{x}}\)が
\(\symcal{L}_1\)項であることがわかる．
\(\obj{y}\)も変数記号であり\(\symcal{L_1}\)項なので，
\(\apply{\obj{\ast}}{\apply{\obj{\ast}}{\obj{e}, \obj{x}}, \obj{y}}\)は\(\symcal{L}_1\)項である．

また，\(\obj{e}\apply{\mathord{\obj{\ast}}}{\obj{e}, \obj{e}}\)は変数記号でも定数記号でもないため，
これが\(\symcal{L}_1\)項であるためには
\cref{Def:term}における3番目の規則を最後に適用していなければならない．
このとき最初の文字は関数記号である必要があるが，\(\obj{e}\)は定数記号であり関数記号ではない．
従って，\(\obj{e}\apply{\mathord{\obj{\ast}}}{\obj{e}, \obj{e}}\)は\(\symcal{L}_1\)項ではない．

\subsection*{\Cref{Que:logicalexpression}}

\(\obj{x}, \obj{y}\)は変数記号であり，従って\(\symcal{L}_1\)項である．
また，\(\obj{\ast}\)がアリティ2の関数記号であることから，
\(\apply{\mathord{\obj{\ast}}}{\obj{x}, \obj{y}}\)と
\(\apply{\mathord{\obj{\ast}}}{\obj{y}, \obj{x}}\)はいずれも\(\symcal{L}_1\)項である．
よって，
\(\paren{\apply{\mathord{\obj{\ast}}}{\obj{y}, \obj{x}} \objeq \apply{\mathord{\obj{\ast}}}{\obj{y}, \obj{x}}}\)
は\(\symcal{L}_1\)論理式である．

\(\obj{\leq}\)がアリティ2の関係記号であることから，
\(\apply{\mathord{\obj{\leq}}}{\obj{x}, \obj{y}}\)は\(\symcal{L}_2\)論理式である．
ゆえに，\(\paren{\forall \obj{y}\apply{\mathord{\obj{\leq}}}{\obj{x}, \obj{y}}}\)
は\(\symcal{L}_2\)論理式である．
このことから\(\paren{\forall \obj{x}\paren{\forall \obj{y}\apply{\mathord{\obj{\leq}}}{\obj{x}, \obj{y}}}}\)
が\(\symcal{L}_2\)論理式であることも従う．

さて，\(\paren{\apply{\exists \obj{x}}{\obj{x}}}\)が\(\symcal{L}\)論理式であるとすれば，
\(\obj{x}\)は\(\symcal{L}\)論理式でなければならない．しかし，変数記号が論理式であることはないので
\(\paren{\apply{\exists \obj{x}}{\obj{x}}}\)は\(\symcal{L}\)論理式ではない．
一方で，\(\paren{\obj{x} \objeq \obj{x}}\)は\(\symcal{L}\)論理式であるから
\(\paren{\apply{\exists \obj{x}}{\obj{x} \objeq \obj{x}}}\)は\(\symcal{L}\)論理式である．

\(\apply{\forall \obj{x}}{\obj{x} \obj{\ast} \obj{e} \objeq \obj{x}}\)が\(\symcal{L}_1\)論理式であるとすれば，
これまでの議論と同様にして\(\obj{x} \obj{\ast} \obj{e}\)が\(\symcal{L}_1\)項でなければならないことがわかる．
しかし，\(\obj{\ast}\)の次の文字が開きカッコ「\(\lparen\)」ではないので
これは\(\symcal{L}_1\)項とはなりえない．よって，
\(\apply{\forall \obj{x}}{\obj{x} \obj{\ast} \obj{e} \objeq \obj{x}}\)は\(\symcal{L}_1\)論理式ではない．
\(\apply{\forall \obj{x}}{\obj{x} \objeq \obj{x}}\)については，1文字目が開きカッコ「\(\lparen\)」でも
関係記号でもないことから\(\symcal{L}_1\)論理式でないことが従う．

\subsection*{\Cref{Que:invalidtheory}}

2つ目の\(\symcal{L}\)論理式からは，\(\obj{e}\)が変数記号であることが伺える．
しかしそうだとすると最後の\(\symcal{L}\)論理式
\[
	\forall \obj{x} \exists \obj{y} \paren{\obj{y} \obj{\ast} \obj{x} \objeq \obj{e}}
\]
が\(\symcal{L}\)閉論理式にならない．問題文で挙げた3つの論理式からなる集合が
\(\symcal{L}\)理論になっていないという意味で構文的に不適切である．

最後の\(\symcal{L}\)論理式を
\[
	\exists \obj{e} \forall \obj{x} \exists \obj{y} \paren{\obj{y} \obj{\ast} \obj{x} \objeq \obj{e}}
\]
としてしまえば\(\symcal{L}\)閉論理式になるので，問題文で挙げた3つの\(\symcal{L}\)論理式のうち
3つ目だけをこちらに置き換えたものは\(\symcal{L}\)理論となる．
しかし，この\(\symcal{L}\)理論は「群論の公理化」としては不適切であって，
2つ目と3つ目の\(\symcal{L}\)論理式をまとめて
\[
	\exists \obj{e} \paren{
		\forall \obj{x} \paren{\obj{e} \obj{\ast} \obj{x} \objeq \obj{x}}
		\land \forall \obj{x} \exists \obj{y} \paren{\obj{y} \obj{\ast} \obj{x} \objeq \obj{e}}
	}
\]
とするのが正しい．
なぜそうしなければならないのか，
そしてなぜそうすれば「よい」のかについては，この段階ではわからない．

\subsection*{\Cref{Que:ProjectiveGeometrydual}}

\begin{enumerate}
	\NewDocumentCommand{\LiesOn}{}{\mathrel{\obj{\varepsilon}}}
	\item \(\forall \obj{x} \paren{\apply{\obj{L}}{\obj{x}} \formulaequiv \lnot \apply{\obj{P}}{\obj{x}}},\)
	\item \(\forall \obj{x} \forall \obj{y} \paren{\obj{y} \LiesOn \obj{x} \to \apply{\obj{L}}{\obj{x}} \land \apply{\obj{P}}{\obj{y}}},\)
	\item \(\forall \obj{x} \forall \obj{y} \paren{\apply{\obj{L}}{\obj{x}} \land \apply{\obj{L}}{\obj{y}} \land \lnot \paren{\obj{x} \objeq \obj{y}}
		      \to \uexists z \paren{\obj{z} \LiesOn \obj{x} \land \obj{z} \LiesOn \obj{y}}},\)
	\item \(\forall \obj{x} \forall \obj{y} \paren{\paren{\apply{\obj{P}}{\obj{x}} \land \apply{\obj{P}}{y}} \land \lnot \paren{\obj{x} \objeq \obj{y}}
		      \to \uexists z \paren{\obj{x} \LiesOn \obj{z} \land \obj{y} \LiesOn \obj{z}}},\)
	\item \(C'\)を
	      \[
		      \lnot \exists \obj{w} \paren{\obj{w} \LiesOn x \land \obj{w} \LiesOn y \land \obj{w} \LiesOn z}
	      \]
	      の略記としたときの
	      \begin{align*}
		       & \exists \obj{a} \exists \obj{b} \exists \obj{c} \exists \obj{d} \\
		       & \paren{
			      \apply{n}{\obj{a}, \obj{b}, \obj{c}, \obj{d}}
			      \land \apply{C'}{\obj{a}, \obj{b}, \obj{c}}
			      \land \apply{C'}{\obj{a}, \obj{b}, \obj{d}}
			      \land \apply{C'}{\obj{a}, \obj{c}, \obj{d}}
			      \land \apply{C'}{\obj{b}, \obj{c}, \obj{d}}
		      }.
	      \end{align*}
\end{enumerate}

双対をとる操作によって，1と2は意味が変わらず，3と4は互いに入れ替わり，5については
「どの3直線も共線でないような相異なる4直線が存在する」という主張に対応する論理式になったことに注意しよう．
上記\(\apply{C'}{x, y, z}\)は「3直線\(x, y, z\)は共点でない」という主張に対応すると考えることができる．

\section*{\Cref{chap:semantics}}

\subsection*{\Cref{Que:satisfy}}

\(\symcal{M}\)が\cref{Ex:grouptheory}で述べた3つの\(\symcal{L}_{\GP}\)文すべてを充足することを確かめよう．

\begin{align*}
	\varphi_1 \colon & \forall \obj{x} \forall \obj{y} \forall \obj{z}
	\paren{\paren{\obj{x} \obj{\ast} \obj{y}} \obj{\ast} \obj{z} \objeq \obj{x} \obj{\ast} \paren{\obj{y} \obj{\ast} \obj{z}}}, \\
	\varphi_2 \colon & \forall \obj{x} \paren{\obj{e} \obj{\ast} \obj{x} \objeq \obj{x}},                                       \\
	\varphi_3 \colon & \forall \obj{x} \paren{\obj{x}^{\obj{-1}} \obj{\ast} \obj{x} \objeq \obj{e}}
\end{align*}
とする．
このとき，
\begin{align*}
	\symcal{M} & \satisfy \varphi_1, \\
	\symcal{M} & \satisfy \varphi_2, \\
	\symcal{M} & \satisfy \varphi_3  \\
\end{align*}
となるための必要十分条件を考える．
まず\(\varphi_1\)については
\begin{align*}
	                & \symcal{M} \satisfy \varphi_1                                                                                                                 \\
	\metaequivalent & \text{すべての\(a \in \Integers\)に対して\(\symcal{M} \satisfy \forall \obj{y} \forall \obj{z} \subst{\varphi_1}{c_a / \obj{x}}\)}                    \\
	\metaequivalent & \text{すべての\(a, b \in \Integers\)に対して\(\symcal{M} \satisfy \forall \obj{z} \subst{\subst{\varphi_1}{c_a / \obj{x}}}{c_b / \obj{y}}\)}          \\
	\metaequivalent & \text{すべての\(a, b, c\in \Integers\)に対して\(\symcal{M} \satisfy \subst{\subst{\subst{\varphi_1}{c_a / \obj{x}}}{c_b / \obj{y}}}{c_c / \obj{z}}\)} \\
	\metaequivalent & \text{すべての\(a, b, c\in \Integers\)に対して
		\(\interpretation{\symcal{M}}{\paren{\paren{c_a \obj{\ast} c_b} \obj{\ast} c_c}}
	= \interpretation{\symcal{M}}{\paren{c_a \obj{\ast} \paren{c_b \obj{\ast} c_c}}}\)}                                                                             \\
	\metaequivalent & \text{すべての\(a, b, c \in \Integers\)に対して
		\(\interpretation{\symcal{M}}{\paren{c_a \obj{\ast} c_b}} \interpretation{\symcal{M}}{\obj{\ast}} \interpretation{\symcal{M}}{c_c}
	= \interpretation{\symcal{M}}{c_a} \interpretation{\symcal{M}}{\obj{\ast}} \interpretation{\symcal{M}}{\paren{c_b \obj{\ast} c_c}} \)}                          \\
	\metaequivalent & \text{すべての\(a, b, c \in \Integers\)に対して\(
		\paren{\interpretation{\symcal{M}}{c_a} \interpretation{\symcal{M}}{\obj{\ast}} \interpretation{\symcal{M}}{c_b}} + c
		= a + \paren{\interpretation{\symcal{M}}{c_b} \interpretation{\symcal{M}}{\obj{\ast}} \interpretation{\symcal{M}}{c_c}}
	\)}                                                                                                                                                             \\
	\metaequivalent & \text{すべての\(a, b, c \in \Integers\)に対して\(
		\paren{a + b} + c = a + \paren{b + c}
		\)}
\end{align*}
となる．\(\varphi_2, \varphi_3\)についても同様にして
\begin{align*}
	\symcal{M} \satisfy \varphi_2 & \metaequivalent \text{すべての\(a \in \Integers\)に対して\(0 + a = a\)},         \\
	\symcal{M} \satisfy \varphi_3 & \metaequivalent \text{すべての\(a \in \Integers\)に対して\(\paren{-a} + a = 0\)}
\end{align*}
となることがわかるので，\(\symcal{M}\)が\(\varphi_1, \varphi_2, \varphi_3\)のすべてを充足することがわかる．
\Cref{Ex:satisfy}で述べた\(\symcal{L}_{\GP}\)構造\(\symcal{M}'\)が\(\varphi_1\)のみを充足することも同様にして確かめられる．

\subsection*{\Cref{Que:model}}

\Cref{Ex:satisfy}で挙げた\(\symcal{L}_{\GP}\)構造\(\symcal{M}\)は\(\varphi\)を充足する\(\GP\)のモデルである．
また，有限集合\(I_n = \Set{1, 2, \dots, n}\)上の置換（全単射）\(\sigma \colon I_n \to I_n\)全体の集合\(S_n\)を対象領域とする
\(\symcal{L}_{\GP}\)構造\(\symcal{M}'\)を次のように定義する：
\begin{align*}
	\interpretation{\symcal{M}'}{\obj{e}}       & = \symup{id}, \\
	\interpretation{\symcal{M}'}{\obj{\ast}}    & = \circ,      \\
	\interpretation{\symcal{M}'}{\obj{{}^{-1}}} & = {}^{-1}
\end{align*}
ここで，\(\symup{id} \colon S_n \to S_n\)は\(S_n\)上の恒等写像（つまり\(x \mapsto x\)という写像），
\(\circ \colon S_n \to S_n\)は写像の合成をとる写像，
\({}^{-1} \colon S_n \to S_n\)は逆写像をとる写像である．
このようにして定義される\(\symcal{L}_{\GP}\)構造\(\symcal{M}'\)は，\(n \geq 3\)ならば\(\varphi\)を充足しない\(\GP\)のモデルである．

\Cref{Que:model}は，通常の数学における「可換な群とそうでない群を1つずつ挙げよ」という問題に相当することに注意せよ．

\subsection*{\Cref{Que:grouptheoryaxiomize}}

2つの元からなる集合\(M = \Set{a, b}\)に対し，\(M\)を対象領域とする\(\symcal{L}_1\)構造\(\symcal{M}\)を以下によって定義する：
写像\(\mathord{\ast} \colon M \times M \to M\)を以下の表によって定義し，
\(\interpretation{\symcal{M}}{\obj{\ast}} = \mathord{\ast}\)とする．
\begin{table}[htbp]
	\centering
	\begin{tabular}{c|cc}
		\(\ast\) & \(a\) & \(b\) \\ \hline
		\(a\)    & \(a\) & \(b\) \\
		\(b\)    & \(b\) & \(b\) \\
	\end{tabular}
\end{table}

このとき，\(\symcal{M}\)は上記\(\varphi_1, \varphi_2, \varphi_3\)のすべてを充足するので\(T_1\)のモデルである．
これは，\(\symcal{M} \satisfy \varphi_1\)，\(\symcal{M} \satisfy \varphi_2\)，\(\symcal{M} \satisfy \varphi_3\)がそれぞれ
\begin{enumerate}
	\item すべての\(x, y, z\)に対して\(\paren{x \ast y} \ast z = x \ast \paren{y \ast z}\)となる
	\item \(e' \in M\)が存在して，すべての\(x \in M\)に対して\(e' \ast x = x\)となる
	\item \(e' \in M\)が存在して，すべての\(x \in M\)に対して\(y \ast x = e'\)となる\(y \in M\)がとれる
\end{enumerate}
と同値になっていることからわかる（\(\symcal{M} \satisfy \varphi_2\)が成立する根拠となる\(e'\)として\(a\)が，
\(\symcal{M} \satisfy \varphi_3\)が成立する根拠となる\(e'\)として\(b\)がそれぞれとれる）．
しかし，2については\(b \ast a = a\)は成り立たず，3については\(y \ast b = a\)となる\(y \in M\)
が存在しないので，上記2つの\(e'\)を一致させることはできない．
このため，\(\symcal{M}\)による\(\obj{e}, {}^{\obj{-1}}\)の解釈をどのように定めても，
\(\symcal{M}\)が\(T\)のモデルになることはない．

\subsection*{\Cref{Que:validformula}}

整数全体の集合\(\Integers\)を対象領域とする\(\symcal{L}_{\OrderedRing}\)構造\(\symcal{M}\)を考える．
ただし，\(\symcal{M}\)による\(\obj{+}, \obj{\cdot}, \obj{0}, \obj{1}\)の解釈はそれぞれ\(\Integers\)
における通常の\(\mathord{+}, \mathord{\cdot}, 0, 1\)とし，\(\obj{<}\)の\(\symcal{M}\)による解釈は
\(\Integers\)における通常の等号付き大小関係\(\leq\)とする．
このとき，閉論理式\(\varphi \colon \forall \obj{x} \lnot \paren{\obj{x} \obj{<} \obj{x}}\)について
\[
	\symcal{M} \satisfy \varphi \metaequivalent \text{すべての\(a \in \Integers\)に対して\(a \leq a\)でない}
\]
となるが，例えば\(a = 1\)のときにこれは成り立たない．
よって\(\symcal{M}\)はこの\(\varphi\)を充足しない．

\subsection*{\Cref{Que:truthtableforequivalent}}

\(\varphi \formulaequiv \psi\)の真理値表を以下に示す
（\(\varphi \formulaequiv \psi\)は\(\paren{\varphi \to \psi} \land \paren{\psi \to \varphi}\)の略記であったことを思い出そう）．

\begin{table}[htbp]
	\centering
	\begin{tabular}{cc|ccc}
		\hline
		\(\varphi\) & \(\psi\) & \(\varphi \to \psi\) & \(\psi \to \varphi\) & \(\varphi \formulaequiv \psi\) \\ \hline
		0           & 0        & 1                    & 1                    & 1                              \\
		0           & 1        & 1                    & 0                    & 0                              \\
		1           & 0        & 0                    & 1                    & 0                              \\
		1           & 1        & 1                    & 1                    & 1                              \\
		\hline
	\end{tabular}
\end{table}

\subsection*{\Cref{Que:semanticlawofexcludedmiddle}}

\(\varphi \lor \lnot \varphi\)の真理値表を以下に示す．

\begin{table}[htbp]
	\centering
	\begin{tabular}{c|cc}
		\hline
		\(\varphi\) & \(\lnot \varphi\) & \(\varphi \lor \lnot \varphi\) \\ \hline
		0           & 1                 & 1                              \\
		1           & 0                 & 1                              \\
		\hline
	\end{tabular}
\end{table}

\(\varphi \lor \lnot \varphi\)の真理値はつねに1になるため，\(\varphi \lor \lnot \varphi\)が恒真式であることがわかる．

\subsection*{\Cref{Que:logicallyequivalentcharactarize}}

\(\apply{\FV}{\varphi} \cup \apply{\FV}{\psi} = \Set{x_1, x_2, \dots, x_n}\)とする．
\(\symcal{M}\)を任意の構造とし，\(M\)をその対象領域とする．
このとき，
\[
	\symcal{M} \satisfy \varphi \formulaequiv \psi
\]
であるためには，任意の\(a_1,a_2, \dots, a_n\)に対して
\[
	\symcal{M} \satisfy \subst{\subst{\subst{\paren{\varphi \formulaequiv \psi}}{c_1/x_1}}{c_2/x_2} \dotsb}{c_n/x_n}
\]
となることが必要十分である．ここで，\(i = 1,2,\dots,n\)に対して\(c_i\)は\(a_i\)の名前である．
また，
\begin{align*}
	                & \symcal{M} \satisfy \subst{\subst{\subst{\paren{\varphi \formulaequiv \psi}}{c_1/x_1}}{c_2/x_2} \dotsb}{c_n/x_n}                                                    \\
	\metaequivalent & \symcal{M} \satisfy \subst{\subst{\subst{\varphi}{c_1/x_1}}{c_2/x_2} \dotsb}{c_n/x_n} \formulaequiv \subst{\subst{\subst{\psi}{c_1/x_1}}{c_2/x_2} \dotsb}{c_n/x_n}.
\end{align*}
である．
ここで，\(\subst{\subst{\subst{\varphi}{c_1/x_1}}{c_2/x_2} \dotsb}{c_n/x_n}\)と
\(\subst{\subst{\subst{\psi}{c_1/x_1}}{c_2/x_2} \dotsb}{c_n/x_n}\)はともに閉論理式である．
閉論理式については\cref{lemma:logicallyequivalentcharactarize}の主張が成り立つことはわかっているので，
\(\varphi, \psi\)が閉論理式とは限らない場合については，\(\varphi, \psi\)が論理的に同値であるための必要十分条件が
\begin{align*}
	\symcal{M} \satisfy \subst{\subst{\subst{\varphi}{c_1/x_1}}{c_2/x_2} \dotsb}{c_n/x_n} \metaequivalent \symcal{M} \satisfy \subst{\subst{\subst{\psi}{c_1/x_1}}{c_2/x_2} \dotsb}{c_n/x_n}
\end{align*}
となることがわかる．
これは
\begin{align*}
	\symcal{M} \satisfy \varphi \metaequivalent \symcal{M} \satisfy \psi
\end{align*}
と等価であるから，\(\varphi, \psi\)が閉論理式とは限らない場合にも\cref{lemma:logicallyequivalentcharactarize}の主張が成り立つことがわかる．

\subsection*{\Cref{Que:semanticpeircelaw}}

\(\paren{\paren{\varphi \to \psi} \to \varphi} \to \varphi\)の真理値表を以下に示す．

\begin{table}[htbp]
	\centering
	\begin{tabular}{cc|ccc}
		\hline
		\(\varphi\) & \(\psi\) & \(\varphi \to \psi\) & \(\paren{\varphi \to \psi} \to \varphi\) & \(\paren{\paren{\varphi \to \psi} \to \varphi} \to \varphi\) \\ \hline
		0           & 0        & 1                    & 0                                        & 1                                                            \\
		0           & 1        & 1                    & 0                                        & 1                                                            \\
		1           & 0        & 0                    & 1                                        & 1                                                            \\
		1           & 1        & 1                    & 1                                        & 1                                                            \\
		\hline
	\end{tabular}
\end{table}

よって\(\paren{\paren{\varphi \to \psi} \to \varphi} \to \varphi\)は恒真式である．

\subsection*{\Cref{Que:expressionsubstitution}}

以下のように示すことができる：
\begin{align*}
	\lnot \forall x \paren{\varphi \to \psi} & \logicallyequivalent \exists x \lnot \paren{\varphi \to \psi}    \\
	                                         & \logicallyequivalent \exists x \paren{\varphi \land \lnot \psi}.
\end{align*}

\section*{\Cref{chap:proof}}

\subsection*{\Cref{Que:sequent}}

\(\varphi \to \psi \sequent \lnot \varphi \lor \psi\)の導出：
\begin{enumerate}
	\item \(\varphi \to \psi \sequent \varphi \to \psi\)\quad (ID)
	\item \(\lnot \paren{\lnot \varphi \lor \psi} \sequent \lnot \paren{\lnot \varphi \lor \psi}\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi, {\varphi \to \psi} \sequent \psi\)\quad （1,3から(\(\to\)E)による）
	\item \(\varphi, {\varphi \to \psi} \sequent \lnot \varphi \lor \psi\)\quad （4から(\(\lor\)I)による）
	\item \(\varphi, {\varphi \to \psi}, \lnot \paren{\lnot \varphi \lor \psi} \sequent \bot\)\quad （2, 5から(w), (e), (\(\lnot\)E)による）
	\item \(\varphi \to \psi, \lnot \paren{\lnot \varphi \lor \psi} \sequent \lnot \varphi\)\quad （6から(\(\lnot\)I)による）
	\item \(\varphi \to \psi, \lnot \paren{\lnot \varphi \lor \psi} \sequent \lnot \varphi \lor \psi\)\quad （7から(\(\lor\)I)による）
	\item \(\varphi \to \psi, \lnot \paren{\lnot \varphi \lor \psi} \sequent \bot\)\quad （2, 8から(w), (\(\lnot\)E)による）
	\item \(\varphi \to \psi \sequent \lnot \lnot \paren{\lnot \varphi \lor \psi}\)\quad （9から(e), (\(\lnot\)E)による）
	\item \(\varphi \to \psi \sequent \lnot \varphi \lor \psi\)\quad （10から(DNF)による）
\end{enumerate}

\(\lnot \varphi \lor \psi \sequent \varphi \to \psi\)の導出：
\begin{enumerate}
	\item \(\lnot \varphi \lor \psi \sequent \lnot \varphi \lor \psi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\lnot \varphi \sequent \lnot \varphi\)\quad (ID)
	\item \(\lnot \psi, \varphi, \lnot \varphi \sequent \bot\)\quad （2, 3から(w), (e), (\(\lnot\)E)による）
	\item \(\varphi, \lnot \varphi \sequent \lnot \lnot \psi\)\quad （4から(\(\lnot\)I)による）
	\item \(\varphi, \lnot \varphi \sequent \psi\)\quad （5から(DNF)による）
	\item \(\psi \sequent \psi\)\quad (ID)
	\item \(\lnot \varphi \lor \psi, \varphi \sequent \psi\)\quad （1, 6, 7から(e), (\(\lor\)E), (c)による）
	\item \(\lnot \varphi \lor \psi \sequent \varphi \to \psi\)\quad （8から(e), (\(\to\)I)による）
\end{enumerate}

\(\lnot \paren{\varphi \lor \psi} \sequent \lnot \varphi \land \lnot \psi\)の導出：
\begin{enumerate}
	\item \(\lnot \paren{\varphi \lor \psi} \sequent \lnot \paren{\varphi \lor \psi}\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi \sequent \varphi \lor \psi\)\quad （2から(\(\lor\)I)による）
	\item \(\varphi, \lnot \paren{\varphi \lor \psi} \sequent \bot\)\quad （1, 3から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \paren{\varphi \lor \psi} \sequent \lnot \varphi\)\quad （4から(\(\lnot\)I)による）
	\item \(\lnot \paren{\varphi \lor \psi} \sequent \lnot \psi\)\quad （上と同様にして導出できるので省略）
	\item \(\lnot \paren{\varphi \lor \psi} \sequent \lnot \varphi \land \lnot \psi\)\quad （5, 6から(\(\land\)I), (c)による）
\end{enumerate}

\(\lnot \varphi \land \lnot \psi \sequent \lnot \paren{\varphi \lor \psi}\)の導出：
\begin{enumerate}
	\item \(\lnot \varphi \land \lnot \psi \sequent \lnot \varphi \land \lnot \psi\)\quad (ID)
	\item \(\varphi \lor \psi \sequent \varphi \lor \psi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\lnot \varphi \land \lnot \psi \sequent \lnot \varphi\)\quad （1から(\(\land\)E)による）
	\item \(\varphi, \lnot \varphi \land \lnot \psi \sequent \bot\)\quad （3, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\psi, \lnot \varphi \land \lnot \psi \sequent \bot\)\quad （上と同様にして導出できるので省略）
	\item \(\varphi \lor \psi, \lnot \varphi \land \lnot \psi \sequent \bot\)\quad （2, 5, 6から(\(\lor\)E), (c)による）
	\item \(\lnot \varphi \land \lnot \psi \sequent \lnot \paren{\varphi \lor \psi}\)\quad （7から(\(\lnot\)I)による）
\end{enumerate}

\(\lnot \paren{\varphi \land \psi} \sequent \lnot \varphi \lor \lnot \psi\)の導出：
\begin{enumerate}
	\item \(\lnot \paren{\varphi \land \psi} \sequent \lnot \paren{\varphi \land \psi}\)\quad (ID)
	\item \(\lnot \paren{\lnot \varphi \lor \lnot \psi} \sequent \lnot \paren{\lnot \varphi \lor \lnot \psi}\)\quad (ID)
	\item \(\lnot \varphi \sequent \lnot \varphi\)\quad (ID)
	\item \(\lnot \varphi \sequent \lnot \varphi \lor \lnot \psi\)\quad （3から(\(\lor\)I)による）
	\item \(\lnot \varphi, \lnot \paren{\lnot \varphi \lor \lnot \psi} \sequent \bot\)\quad （2, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \paren{\lnot \varphi \lor \lnot \psi} \sequent \lnot \lnot \varphi\)\quad （5から(\(\lnot\)I)による）
	\item \(\lnot \paren{\lnot \varphi \lor \lnot \psi} \sequent \varphi\)\quad （6から(DNF)による）
	\item \(\lnot \paren{\lnot \varphi \lor \lnot \psi} \sequent \psi\)\quad （上と同様にして導けるので省略）
	\item \(\lnot \paren{\lnot \varphi \lor \lnot \psi} \sequent \varphi \land \psi\)\quad （7, 8から(\(\land\)I), (c)による）
	\item \(\lnot \paren{\lnot \varphi \lor \lnot \psi}, \lnot \paren{\varphi \land \psi} \sequent \bot\)\quad （1, 9から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \paren{\varphi \land \psi} \sequent \lnot \lnot \paren{\lnot \varphi \lor \lnot \psi}\)\quad （10から(\(\lnot\)I)による）
	\item \(\lnot \paren{\varphi \land \psi} \sequent \lnot \varphi \lor \lnot \psi\)\quad （11から(DNF)による）
\end{enumerate}

\(\lnot \varphi \lor \lnot \psi \sequent \lnot \paren{\varphi \land \psi}\)の導出：
\begin{enumerate}
	\item \(\lnot \varphi \lor \lnot \psi \sequent \lnot \varphi \lor \lnot \psi\)\quad (ID)
	\item \(\varphi \land \psi \sequent \varphi \land \psi\)\quad (ID)
	\item \(\lnot \varphi \sequent \lnot \varphi\)\quad (ID)
	\item \(\varphi \land \psi \sequent \varphi\)\quad （2から(\(\land\)E)による）
	\item \(\lnot \varphi, \varphi \land \psi \sequent \bot\)\quad （3, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \psi, \varphi \land \psi \sequent \bot\)\quad （上と同様にして導けるので省略）
	\item \(\varphi \land \varphi, \lnot \varphi \lor \lnot \psi \sequent \bot\)\quad （1, 5, 6から(w), (e), (\(\land\)E), (c)による）
	\item \(\lnot \varphi \lor \lnot \psi \sequent \lnot \paren{\varphi \land \varphi}\)\quad （7から(\(\lnot\)I)による）
\end{enumerate}

\(\lnot \forall x \varphi \sequent \exists x \lnot \varphi\)の導出：
\begin{enumerate}
	\item \(\lnot \forall x \varphi \sequent \lnot \forall x \varphi\)\quad (ID)
	\item \(\lnot \exists x \lnot \varphi \sequent \lnot \exists x \lnot \varphi\)\quad (ID)
	\item \(\lnot \subst{\varphi}{a/x} \sequent \lnot \subst{\varphi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\lnot \subst{\varphi}{a/x} \sequent \exists x \lnot \varphi\)\quad （3から(\(\exists\)E)による）
	\item \(\lnot \subst{\varphi}{a/x}, \lnot \exists x \lnot \varphi \sequent \bot\)\quad （2, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \exists x \lnot \varphi \sequent \lnot \lnot \subst{\varphi}{a/x}\)\quad （5から(\(\lnot\)I)による）
	\item \(\lnot \exists x \lnot \varphi \sequent \subst{\varphi}{a/x}\)\quad （6から(DNF)による）
	\item \(\lnot \exists x \lnot \varphi \sequent \forall x \varphi\)\quad （7から(\(\forall\)I)による）
	\item \(\lnot \exists x \lnot \varphi, \lnot \forall x \varphi \sequent \bot\)\quad （1, 8から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \forall x \varphi \sequent \lnot \lnot \exists x \lnot \varphi\)\quad （9から(\(\lnot\)E)による）
	\item \(\lnot \forall x \varphi \sequent \exists x \lnot \varphi\)\quad （10から(DNF)による）
\end{enumerate}

\(\exists x \lnot \varphi \sequent \lnot \forall x \varphi\)の導出：
\begin{enumerate}
	\item \(\exists x \lnot \varphi \sequent \exists x \lnot \varphi\)\quad (ID)
	\item \(\forall x \varphi \sequent \forall x \varphi\)\quad (ID)
	\item \(\lnot \subst{\varphi}{a/x} \sequent \lnot \subst{\varphi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\forall x \varphi \sequent \subst{\varphi}{a/x}\)\quad （2から(\(\forall\)E)による）
	\item \(\lnot \subst{\varphi}{a/x}, \forall x \varphi \sequent \bot\)\quad （3, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\exists x \lnot \varphi, \forall x \varphi \sequent \bot\)\quad （1, 5から(\(\exists\)E)による）
	\item \(\exists x \lnot \varphi \sequent \lnot \forall x \varphi\)\quad （6から(e), (\(\lnot\)I)による）
\end{enumerate}

\(\lnot \exists x \varphi \sequent \forall x \lnot \varphi\)の導出：
\begin{enumerate}
	\item \(\lnot \exists x \varphi \sequent \lnot \exists x \varphi\)\quad (ID)
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\subst{\varphi}{a/x} \sequent \exists x \varphi\)\quad （3から(\(\exists\)I)による）
	\item \(\subst{\varphi}{a/x}, \lnot \exists x \varphi \sequent \bot\)\quad （1, 3から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \exists x \varphi \sequent \lnot \subst{\varphi}{a/x}\)\quad （4から(\(\lnot\)I)による）
	\item \(\lnot \exists x \varphi \sequent \forall x \lnot \varphi\)\quad （5から(\(\forall\)I)による）
\end{enumerate}

\(\forall x \lnot \varphi \sequent \lnot \exists x \varphi\)の導出：
\begin{enumerate}
	\item \(\forall x \lnot \varphi \sequent \forall x \lnot \varphi\)\quad (ID)
	\item \(\exists x \varphi \sequent \exists x \varphi\)\quad (ID)
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\forall x \lnot \varphi \sequent \lnot \subst{\varphi}{a/x}\)\quad （1から(\(\forall\)E)による）
	\item \(\subst{\varphi}{a/x}, \forall x \lnot \varphi \sequent \bot\)\quad （3, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\exists x \varphi, \forall x \lnot \varphi \sequent \bot\)\quad （2, 5から(\(\exists\)E)による）
	\item \(\forall x \lnot \varphi \sequent \lnot \exists x \varphi\)\quad （6から(\(\lnot\)I)による）
\end{enumerate}

\(\varphi \land \psi \sequent \psi \land \varphi\)の導出（逆向きのシークエントも同様である）：
\begin{enumerate}
	\item \(\varphi \land \psi \sequent \varphi \land \psi\)\quad (ID)
	\item \(\varphi \land \psi \sequent \psi\)\quad （1から(\(\land\)E)による）
	\item \(\varphi \land \psi \sequent \varphi\)\quad （1から(\(\land\)E)による）
	\item \(\varphi \land \psi \sequent \psi \land \varphi\)\quad （2, 3から(\(\land\)I), (c)による）
\end{enumerate}

\(\varphi \lor \psi \sequent \psi \lor \varphi\)の導出（逆向きのシークエントも同様である）：
\begin{enumerate}
	\item \(\varphi \lor \psi \sequent \varphi \lor \psi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi \sequent \psi \lor \varphi\)\quad （2から(\(\lor\)I)による）
	\item \(\psi \sequent \psi\)\quad (ID)
	\item \(\psi \sequent \psi \lor \varphi\)\quad （4から(\(\lor\)I)による）
	\item \(\varphi \lor \psi \sequent \psi \lor \varphi\)\quad （1, 3, 5から(\(\lor\)E), (c)による）
\end{enumerate}

\(\varphi \land \paren{\psi \land \chi} \sequent \paren{\varphi \land \psi} \land \chi\)の導出（逆向きのシークエントも同様である）：
\begin{enumerate}
	\item \(\varphi \land \paren{\psi \land \chi} \sequent \varphi \land \paren{\psi \land \chi}\)\quad (ID)
	\item \(\varphi \land \paren{\psi \land \chi} \sequent \varphi\)\quad （1から(\(\land\)E)による）
	\item \(\varphi \land \paren{\psi \land \chi} \sequent \psi \land \chi\)\quad （1から(\(\land\)E)による）
	\item \(\varphi \land \paren{\psi \land \chi} \sequent \psi\)\quad （3から(\(\land\)E)による）
	\item \(\varphi \land \paren{\psi \land \chi} \sequent \varphi \land \psi\)\quad （2, 4から(\(\land\)I), (c)による）
	\item \(\varphi \land \paren{\psi \land \chi} \sequent \chi\)\quad （3から(\(\land\)E)による）
	\item \(\varphi \land \paren{\psi \land \chi} \sequent \paren{\varphi \land \psi} \land \chi\)\quad （5, 6から(\(\land\)I), (c)による）
\end{enumerate}

\(\varphi \lor \paren{\psi \lor \chi} \sequent \paren{\varphi \lor \psi} \lor \chi\)の導出（逆向きのシークエントも同様である）：
\begin{enumerate}
	\item \(\varphi \lor \paren{\psi \lor \chi} \sequent \varphi \lor \paren{\psi \lor \chi}\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi \sequent \varphi \lor \psi\)\quad （2から(\(\lor\)I)による）
	\item \(\varphi \sequent \paren{\varphi \lor \psi} \lor \chi\)\quad （3から(\(\lor\)I)による）
	\item \(\psi \lor \chi \sequent \psi \lor \chi\)\quad (ID)
	\item \(\psi \sequent \psi\)\quad (ID)
	\item \(\psi \sequent \varphi \lor \psi\)\quad （6から(\(\lor\)I)による）
	\item \(\psi \sequent \paren{\varphi \lor \psi} \lor \chi\)\quad （7から(\(\lor\)I)による）
	\item \(\chi \sequent \chi\)\quad (ID)
	\item \(\chi \sequent \paren{\varphi \lor \psi} \lor \chi\)\quad （9から(\(\lor\)I)による）
	\item \(\psi \lor \chi \sequent \paren{\varphi \lor \psi} \lor \chi\)\quad （5, 8, 10から(\(\lor\)E)による）
	\item \(\varphi \lor \paren{\psi \lor \chi} \sequent \varphi \lor \paren{\psi \lor \chi}\)\quad （1, 4, 11から(\(\lor\)E)による）
\end{enumerate}

\(\varphi \land \paren{\psi \lor \chi} \sequent \paren{\varphi \land \psi} \lor \paren{\varphi \land \chi}\)の導出：
\begin{enumerate}
	\item \(\varphi \land \paren{\psi \lor \chi} \sequent \varphi \land \paren{\psi \lor \chi}\)\quad (ID)
	\item \(\varphi \land \paren{\psi \lor \chi} \sequent \varphi\)\quad （1から(\(\land\)E)による）
	\item \(\varphi \land \paren{\psi \lor \chi} \sequent \psi \lor \chi\)\quad （1から(\(\land\)E)による）
	\item \(\psi \sequent \psi\)\quad (ID)
	\item \(\psi, \varphi \land \paren{\psi \lor \chi} \sequent \varphi \land \psi\)\quad （2, 4から(w), (e), (\(\land\)I), (c)による）
	\item \(\psi, \varphi \land \paren{\psi \lor \chi} \sequent \paren{\varphi \land \psi} \lor \paren{\varphi \lor \psi}\)\quad （5から(\(\lor\)I)による）
	\item \(\chi, \varphi \land \paren{\psi \lor \chi} \sequent \paren{\varphi \land \psi} \lor \paren{\varphi \land \chi}\)\quad （上と同様にして導けるので省略）
	\item \(\varphi \land \paren{\psi \lor \chi} \sequent \paren{\varphi \land \psi} \lor \paren{\varphi \land \chi}\)\quad （3, 6, 7から(\(\lor\)E), (c)による）
\end{enumerate}

\(\paren{\varphi \land \psi} \lor \paren{\varphi \land \chi} \sequent \varphi \land \paren{\psi \lor \chi}\)の導出：
\begin{enumerate}
	\item \(\paren{\varphi \land \psi} \lor \paren{\varphi \land \chi} \sequent \paren{\varphi \land \psi} \lor \paren{\varphi \land \chi}\)\quad (ID)
	\item \(\varphi \land \psi \sequent \varphi \land \psi\)\quad (ID)
	\item \(\varphi \land \psi \sequent \varphi\)\quad （2から(\(\land\)E)による）
	\item \(\varphi \land \psi \sequent \psi\)\quad （2から(\(\land\)E)による）
	\item \(\varphi \land \psi \sequent \psi \lor \chi\)\quad （4から(\(\lor\)I)による）
	\item \(\varphi \land \psi \sequent \varphi \land \paren{\psi \lor \chi}\)\quad （3, 5から(\(\land\)I), (c)による）
	\item \(\varphi \land \chi \sequent \varphi \land \paren{\psi \lor \chi}\)\quad （上と同様にして導けるので省略）
	\item \(\paren{\varphi \land \psi} \lor \paren{\varphi \land \chi} \sequent \varphi \land \paren{\psi \lor \chi}\)\quad （1, 6, 7から(\(\lor\)E)による）
\end{enumerate}

\(\varphi \lor \paren{\psi \land \chi} \sequent \paren{\varphi \lor \psi} \land \paren{\varphi \lor \chi}\)の導出：
\begin{enumerate}
	\item \(\varphi \lor \paren{\psi \land \chi} \sequent \varphi \lor \paren{\psi \land \chi}\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi \sequent \varphi \lor \psi\)\quad （2から(\(\lor\)I)による）
	\item \(\varphi \sequent \varphi \lor \chi\)\quad （2から(\(\lor\)I)による）
	\item \(\varphi \sequent \paren{\varphi \lor \psi} \land \paren{\varphi \lor \chi}\)\quad （3, 4から(\(\land\)I), (c)による）
	\item \(\psi \land \chi \sequent \psi \land \chi\)\quad (ID)
	\item \(\psi \land \chi \sequent \psi\)\quad （6から(\(\land\)E)による）
	\item \(\psi \land \chi \sequent \varphi \lor \psi\)\quad （7から(\(\lor\)I)による）
	\item \(\psi \land \chi \sequent \chi\)\quad （6から(\(\land\)E)による）
	\item \(\psi \land \chi \sequent \varphi \lor \chi\)\quad （9から(\(\lor\)I)による）
	\item \(\psi \land \chi \sequent \paren{\varphi \lor \psi} \land \paren{\varphi \lor \chi}\)\quad （8, 10から(\(\land\)I), (e)による）
	\item \(\varphi \lor \paren{\psi \land \chi} \sequent \paren{\varphi \lor \psi} \land \paren{\varphi \lor \chi}\)\quad （1, 5, 11から(\(\lor\)E)による）
\end{enumerate}

\(\lnot \paren{\varphi \to \psi} \sequent \varphi \land \lnot \psi\)の導出：
\begin{enumerate}
	\item \(\lnot \paren{\varphi \to \psi} \sequent \lnot \paren{\varphi \to \psi}\)\quad (ID)
	\item \(\lnot \varphi \sequent \lnot \varphi\)\quad (ID)
	\item \(\lnot \varphi \sequent \lnot \varphi \lor \psi\)\quad （2から(\(\lor\)I)による）
	\item \(\lnot \varphi \lor \psi \sequent \varphi \to \psi\)\quad （\Cref{Que:sequent}の1つ目）
	\item \(\sequent \lnot \varphi \lor \psi \to \paren{\varphi \to \psi}\)\quad （4から(\(\to\)I)による）
	\item \(\lnot \varphi \sequent \varphi \to \psi\)\quad （3, 5から(\(\to\)E)による）
	\item \(\lnot \varphi, \lnot \paren{\varphi \to \psi} \sequent \bot\)\quad （1, 6から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \paren{\varphi \to \psi} \sequent \lnot \lnot \varphi\)\quad （7から(\(\lnot\)I)による）
	\item \(\lnot \paren{\varphi \to \psi} \sequent \varphi\)\quad （8から(DNF)による）
	\item \(\psi \sequent \psi\)\quad (ID)
	\item \(\varphi, \psi \sequent \psi\)\quad (10から(w)による)
	\item \(\psi \sequent \varphi \to \psi\)\quad (11から(\(\to\)I)による)
	\item \(\psi, \lnot \paren{\varphi \to \psi} \sequent \bot\)\quad （1, 12から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \paren{\varphi \to \psi} \sequent \lnot \psi\)\quad （13から(\(\lnot\)I)による）
	\item \(\lnot \paren{\varphi \to \psi} \sequent \varphi \land \lnot \psi\)\quad （9, 14から(\(\land\)I), (c)による）
\end{enumerate}

\(\varphi \land \lnot \psi \sequent \lnot \paren{\varphi \to \psi}\)の導出：
\begin{enumerate}
	\item \(\varphi \land \lnot \psi \sequent \varphi \land \lnot \psi\)\quad (ID)
	\item \(\varphi \to \psi \sequent \varphi \to \psi\)\quad (ID)
	\item \(\varphi \land \lnot \psi \sequent \varphi\)\quad （1から(\(\land\)E)による）
	\item \(\varphi \to \psi, \varphi \land \lnot \psi \sequent \psi\)\quad （2, 3から(\(\to\)E)による）
	\item \(\varphi \land \lnot \psi \sequent \lnot \psi\)\quad （1から(\(\land\)E)による）
	\item \(\varphi \to \psi, \varphi \land \lnot \psi \sequent \bot\)\quad （4, 5から(w), (\(\lnot\)E)による）
	\item \(\varphi \land \lnot \psi \sequent \lnot \paren{\varphi \to \psi}\)\quad （6から(\(\lnot\)I)による）
\end{enumerate}

\(\lnot \forall x \paren{\varphi \to \psi} \sequent \exists x \paren{\varphi \land \lnot \psi}\)の導出：
\begin{enumerate}
	\item \(\lnot \forall x \paren{\varphi \to \psi} \sequent \exists x \lnot \paren{\varphi \to \psi}\)\quad （\Cref{Que:sequent}の4つ目）
	\item \(\subst{\paren{\lnot \paren{\varphi \to \psi}}}{a/x} \sequent \subst{\paren{\varphi \land \lnot \psi}}{a/x}\)\quad （\Cref{Que:sequent}の12個目，ただし\(a\)は新しい変数記号）
	\item \(\subst{\paren{\lnot \paren{\varphi \to \psi}}}{a/x} \sequent \exists x \paren{\varphi \land \lnot \psi}\)\quad （2から(\(\exists\)I)による）
	\item \(\lnot \forall x \paren{\varphi \to \psi} \sequent \exists x \paren{\varphi \land \lnot \psi}\)\quad （1, 3から(\(\exists\)E)による）
\end{enumerate}

\(\exists x \paren{\varphi \land \lnot \psi} \sequent \lnot \forall x \paren{\varphi \to \psi}\)の導出：
\begin{enumerate}
	\item \(\exists x \paren{\varphi \land \lnot \psi} \sequent \exists x \lnot \paren{\varphi \land \lnot \psi}\)\quad (ID)
	\item \(\subst{\paren{\varphi \land \lnot \psi}}{a/x} \sequent \subst{\paren{\lnot \paren{\varphi \to \psi}}}{a/x}\)\quad （\Cref{Que:sequent}の12個目，ただし\(a\)は新しい変数記号）
	\item \(\subst{\paren{\varphi \land \lnot \psi}}{a/x} \sequent \exists x \lnot \paren{\varphi \to \psi}\)\quad （2から(\(\exists\)I)による）
	\item \(\exists x \paren{\varphi \land \lnot \psi} \sequent \exists x \lnot \paren{\varphi \to \psi}\)\quad （1, 3から(\(\exists\)E)による）
	\item \(\exists x \lnot \paren{\varphi \to \psi} \sequent \lnot \forall x \paren{\varphi \to \psi}\)\quad （\Cref{Que:sequent}の4つ目）
	\item \(\sequent \exists x \lnot \paren{\varphi \to \psi} \to \lnot \forall x \paren{\varphi \to \psi}\)\quad （5から(\(\to\)I)による）
	\item \(\exists x \paren{\varphi \land \lnot \psi} \sequent \lnot \forall x \paren{\varphi \to \psi}\)\quad （4, 6から(\(\to\)E)による）
\end{enumerate}

\(\varphi \to \psi \sequent \lnot \psi \to \lnot \varphi\)の導出：
\begin{enumerate}
	\item \(\varphi \to \psi \sequent \varphi \to \psi\)\quad (ID)
	\item \(\lnot \psi \sequent \lnot \psi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi, \varphi \to \psi \sequent \psi\)\quad (1, 3から(\(\to\)E)による)
	\item \(\varphi, \lnot \psi, \varphi \to \psi \sequent \bot\)\quad （2, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \psi, \varphi \to \psi \sequent \lnot \varphi\)\quad （5から(\(\lnot\)I)による）
	\item \(\varphi \to \psi \sequent \lnot \psi \to \lnot \varphi\)\quad （6から(\(\to\)I)による）
\end{enumerate}

\(\lnot \psi \to \lnot \varphi \sequent \varphi \to \psi\)の導出：
\begin{enumerate}
	\item \(\lnot \psi \to \lnot \varphi \sequent \lnot \psi \to \lnot \varphi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\lnot \psi \sequent \lnot \psi\)\quad (ID)
	\item \(\lnot \psi, \lnot \psi \to \lnot \varphi \sequent \lnot \varphi\)\quad （1, 3から(\(\to\)E)による）
	\item \(\lnot \psi, \varphi \lnot \psi \to \lnot \varphi \sequent \bot\)\quad （2, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\varphi, \lnot \psi \to \lnot\varphi \sequent \lnot \lnot \psi\)\quad （5から(\(\lnot\)I)による）
	\item \(\varphi, \lnot \psi \to \lnot \varphi \sequent \psi\)\quad （6から(DNF)による）
	\item \(\lnot \psi \to \lnot \varphi \sequent \varphi \to \psi\)\quad （7から(\(\to\)I)による）
\end{enumerate}

\(\varphi \to \paren{\psi \to \chi} \sequent \varphi \land \psi \to \chi\)の導出：
\begin{enumerate}
	\item \(\varphi \to \paren{\psi \to \chi} \sequent \varphi \to \paren{\psi \to \chi}\)\quad (ID)
	\item \(\varphi \land \psi\)\quad (ID)
	\item \(\varphi \land \psi \sequent \varphi\)\quad （2から(\(\land\)E)による）
	\item \(\varphi \land \psi \sequent \psi\)\quad （2から(\(\land\)E)による）
	\item \(\varphi \land \psi, \varphi \to \paren{\psi \to \chi} \sequent \psi \to \chi\)\quad （1, 3から(\(\to\)E)による）
	\item \(\varphi \land \psi, \varphi \to \paren{\psi \to \chi} \sequent \chi\)\quad （4, 5から(\(\to\)E), (c)による）
	\item \(\varphi \to \paren{\psi \to \chi} \sequent \varphi \land \psi\)\quad （6から(\(\to\)I)による）
\end{enumerate}

\(\varphi \land \psi \to \chi \sequent \varphi \to \paren{\phi \to \chi}\)の導出：
\begin{enumerate}
	\item \(\varphi \land \psi \to \chi \sequent \varphi \land \psi \to \chi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\psi \sequent \psi\)\quad (ID)
	\item \(\psi, \varphi \sequent \varphi \land \psi\)\quad （2, 3から(\(\land\)I), (e)による）
	\item \(\psi, \varphi, \varphi \land \psi \to \chi \sequent \chi\)\quad （1, 4から(\(\to\)E)による）
	\item \(\varphi, \varphi \land \psi \to \chi \sequent \psi \to \chi\)\quad （5から(\(\to\)I)による）
	\item \(\varphi \land \psi \to \chi \sequent \varphi \to \paren{\psi \to \chi}\)\quad （6から(\(\to\)I)による）
\end{enumerate}

\(\forall x \paren{\varphi \to \psi} \sequent \exists x \varphi \to \psi\)の導出：
\begin{enumerate}
	\item \(\forall x \paren{\varphi \to \psi} \sequent \forall x \paren{\varphi \to \psi}\)\quad (ID)
	\item \(\exists x \varphi \sequent \exists x \varphi\)\quad (ID)
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\forall x \paren{\varphi \to \psi} \sequent \subst{\varphi}{a/x} \to \psi\)\quad （1から(\(\forall\)E)による）
	\item \(\subst{\varphi}{a/x}, \forall x \paren{\varphi \to \psi} \sequent \psi\)\quad （3, 4から(\(\to\)E)による）
	\item \(\exists x \varphi, \forall x \paren{\varphi \to \psi} \sequent \psi\)\quad （2, 5から(\(\exists\)E)による）
	\item \(\forall x \paren{\varphi \to \psi} \sequent \exists x \varphi \to \psi\)\quad （6から(\(\to\)I)による）
\end{enumerate}
ここで，4の導出にあたっては，\(\psi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \to \psi}}{a/x}\)と\(\subst{\varphi}{a/x} \to \psi\)が同じ論理式であることを用いた．

\(\exists x \varphi \to \psi \sequent \forall x \paren{\varphi \to \psi}\)の導出：
\begin{enumerate}
	\item \(\exists x \varphi \to \psi \sequent \exists x \varphi \to \psi\)\quad (ID)
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\subst{\varphi}{a/x} \sequent \exists x \varphi\)\quad （2から(\(\exists\)I)による）
	\item \(\subst{\varphi}{a/x}, \exists x \varphi \to \psi \sequent \psi\)\quad （1, 3から(\(\to\)E)による）
	\item \(\exists x \varphi \to \psi \sequent \subst{\varphi}{a/x} \to \psi\)\quad （4から(\(\to\)I)による）
	\item \(\exists x \varphi \to \psi \sequent \forall x \paren{\varphi \to \psi}\)\quad （5から(\(\forall\)I)による）
\end{enumerate}
ここで，6の導出にあたっては，\(\psi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \to \psi}}{a/x}\)と\(\subst{\varphi}{a/x} \to \psi\)が同じ論理式であることを用いた．

\(\exists x \paren{\varphi \to \psi} \sequent \forall x \varphi \to \psi\)の導出：
\begin{enumerate}
	\item \(\exists x \paren{\varphi \to \psi} \sequent \exists x \paren{\varphi \to \psi}\)\quad (ID)
	\item \(\forall x \varphi \sequent \forall x \varphi\)\quad (ID)
	\item \(\subst{\paren{\varphi \to \psi}}{a/x} \sequent \subst{\paren{\varphi \to \psi}}{a/x}\)\quad (ID)
	\item \(\forall x \varphi \sequent \subst{\varphi}{a/x}\)\quad （2から(\(\forall\)E)による，ただし\(a\)は新しい変数記号）
	\item \(\subst{\paren{\varphi \to \psi}}{a/x}, \forall x \varphi \sequent \psi\)\quad （3, 4から(\(\to\)E), (e)による）
	\item \(\forall x \varphi, \exists x \paren{\varphi \to \psi} \sequent \psi\)\quad （1, 5から(\(\exists\)E), (e)による）
	\item \(\exists x \paren{\varphi \to \psi} \sequent \forall x \to \psi\)\quad （6から(\(\to\)I)による）
\end{enumerate}
ここで，5の導出にあたっては，\(\psi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \to \psi}}{a/x}\)と\(\subst{\varphi}{a/x} \to \psi\)が同じ論理式であることを用いた．

\(\forall x \varphi \to \psi \sequent \exists x \paren{\varphi \to \psi}\)の導出：
\begin{enumerate}
	\item \(\forall x \varphi \to \psi \sequent \forall x \varphi \to \psi\)\quad (ID)
	\item \(\lnot \exists x \paren{\varphi \to \psi} \sequent \lnot \exists x \paren{\varphi \to \psi}\)\quad (ID)
	\item \(\lnot \subst{\varphi}{a/x} \sequent \lnot \subst{\varphi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x}\)\quad (ID)
	\item \(\lnot \psi, \subst{\varphi}{a/x}, \lnot \subst{\varphi}{a/x} \sequent \bot\)\quad （3, 4から(w), (e), (\(\lnot\)E)による）
	\item \(\subst{\varphi}{a/x}, \lnot \subst{\varphi}{a/x} \sequent \lnot \lnot \psi\)\quad （5から(\(\lnot\)I)による）
	\item \(\subst{\varphi}{a/x}, \lnot \subst{\varphi}{a/x} \sequent \psi\)\quad （6から(DNF)による）
	\item \(\lnot \subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x} \to \psi\)\quad （7から(\(\to\)I)による）
	\item \(\lnot \subst{\varphi}{a/x} \sequent \exists x \paren{\varphi \to \psi}\)\quad （8から(\(\exists\)I)による）
	\item \(\lnot \subst{\varphi}{a/x}, \lnot \exists x \paren{\varphi \to \psi} \sequent \bot\)\quad （2, 9から(w), (e), (\(\lnot\)E)による）
	\item \(\lnot \exists x \paren{\varphi \to \psi} \sequent \lnot \lnot \subst{\varphi}{a/x}\)\quad （10から(\(\lnot\)I)による）
	\item \(\lnot \exists x \paren{\varphi \to \psi} \sequent \subst{\varphi}{a/x}\)\quad （11から(DNF)による）
	\item \(\lnot \exists x \paren{\varphi \to \psi} \sequent \forall x \varphi\)\quad （12から(\(\forall\)I)による）
	\item \(\subst{\varphi}{a/x}, \forall x \varphi \to \psi, \lnot \exists x \paren{\varphi \to \psi} \sequent \psi\)\quad （1, 13から(\(\to\)E), (w)による）
	\item \(\forall x \varphi \to \psi, \lnot \exists x \paren{\varphi \to \psi} \sequent \subst{\varphi}{a/x} \to \psi\)\quad （14から(\(\to\)I)による）
	\item \(\forall x \varphi \to \psi, \lnot \exists x \paren{\varphi \to \psi} \sequent \exists x \paren{\varphi \to \psi}\)\quad （15から(\(\exists\)I)による）
	\item \(\forall x \varphi \to \psi, \lnot \exists x \paren{\varphi \to \psi} \sequent \bot\)\quad （2, 16から(w), (\(\lnot\)E)による）
	\item \(\forall x \varphi \to \psi \sequent \lnot \lnot \exists x \paren{\varphi \to \psi}\)\quad （17から(e), (\(\lnot\)I)による）
	\item \(\forall x \varphi \to \psi \sequent \exists x \paren{\varphi \to \psi}\)\quad （18から(DNF)による）
\end{enumerate}
ここで，9と15の導出にあたっては，\(\psi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \to \psi}}{a/x}\)と\(\subst{\varphi}{a/x} \to \psi\)が同じ論理式であることを用いた．

\(\forall x \paren{\varphi \to \psi} \sequent \varphi \to \forall x \psi\)の導出：
\begin{enumerate}
	\item \(\forall x \paren{\varphi \to \psi} \sequent \forall x \paren{\varphi \to \psi}\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\forall x \paren{\varphi \to \psi} \sequent \varphi \to \subst{\psi}{a/x}\)\quad （1から(\(\forall\)E)による，ただし\(a\)は新しい変数記号）
	\item \(\varphi, \forall x \paren{\varphi \to \psi} \sequent \subst{\psi}{a/x}\)\quad （2, 3から(\(\to\)E)による）
	\item \(\varphi, \forall x \paren{\varphi \to \psi} \sequent \forall x \psi\)\quad （4から(\(\forall\)I)による）
	\item \(\forall x \paren{\varphi \to \psi} \sequent \varphi \to \forall x \psi\)\quad （5から(\(\to\)I)による）
\end{enumerate}
ここで，3の導出にあたっては，\(\varphi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \to \psi}}{a/x}\)と\(\varphi \to \subst{\psi}{a/x}\)が同じ論理式であることを用いた．

\(\varphi \to \forall x \psi \sequent \forall x \paren{\varphi \to \psi}\)の導出：
\begin{enumerate}
	\item \(\varphi \to \forall x \psi \sequent \varphi \to \forall x \psi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi, \varphi \to \forall x \psi \sequent \forall x \psi\)\quad （1, 2から(\(\to\)E)による）
	\item \(\varphi, \varphi \to \forall x \psi \sequent \subst{\psi}{a/x}\)\quad （3から(\(\forall\)E)による，ただし\(a\)は新しい変数記号）
	\item \(\varphi \to \forall x \psi \sequent \paren{\varphi \to \psi}{a/x}\)\quad （4から(\(\to\)I)による）
	\item \(\varphi \to \forall x \psi \sequent \forall x \paren{\varphi \to \psi}\)\quad （5から(\(\forall\)I)による）
\end{enumerate}
ここで，4の導出にあたっては，\(\varphi\)に\(x\)が自由出現しないことにより
\(\varphi \to \subst{\psi}{a/x}\)と\(\subst{\varphi \to \psi}{a/x}\)が同じ論理式であることを用いた．

\(\exists x \paren{\varphi \to \psi} \sequent \varphi \to \exists x \psi\)の導出：
\begin{enumerate}
	\item \(\exists x \paren{\varphi \to \psi} \sequent \exists x \paren{\varphi \to \psi}\)\quad (ID)
	\item \(\varphi \to \varphi\)\quad (ID)
	\item \(\varphi \to \subst{\psi}{a/x} \sequent \varphi \to \subst{\psi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\varphi, \varphi \to \subst{\psi}{a/x} \sequent \subst{\psi}{a/x}\)\quad （2, 3から(\(\to\)E)による）
	\item \(\varphi, \varphi \to \subst{\psi}{a/x} \sequent \exists x \psi\)\quad （4から(\(\exists\)I)による）
	\item \(\varphi \to \subst{\psi}{a/x} \sequent \varphi \to \exists x \psi\)\quad （5から(\(\to\)I)による）
	\item \(\exists x \paren{\varphi \to \psi} \sequent \varphi \to \exists x \psi\)\quad （1, 6から(\(\exists\)E)による）
\end{enumerate}
ここで，7の導出にあたっては，\(\varphi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \to \psi}}{a/x}\)と\(\varphi \to \subst{\psi}{a/x}\)が同じ論理式であることを用いた．

\(\varphi \to \exists x \psi \sequent \exists x \paren{\varphi \to \psi}\)の導出：
\begin{enumerate}
	\item \(\varphi \to \exists x \psi \sequent \varphi \to \exists x \psi\)\quad (ID)
	\item \(\lnot \exists x \paren{\varphi \to \psi} \sequent \lnot \exists x \paren{\varphi \to \psi}\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\varphi, \varphi \to \exists x \psi \sequent \exists x \psi\)\quad （1, 3から(\(\to\)E)による）
	\item \(\subst{\psi}{a/x} \sequent \subst{\psi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\varphi, \subst{\psi}{a/x} \sequent \subst{\psi}{a/x}\)\quad （5から(w)による）
	\item \(\subst{\psi}{a/x} \sequent \varphi \to \subst{\psi}{a/x}\)\quad （6から(\(\to\)I)による）
	\item \(\subst{\psi}{a/x} \sequent \exists x \paren{\varphi \to \psi}\)\quad （7から(\(\exists\)I)による）
	\item \(\varphi, \varphi \to \exists x \psi \sequent \exists x \paren{\varphi \to \psi}\)\quad （4, 8から(\(\exists\)E)による）
	\item \(\lnot \subst{\psi}{b/x}, \varphi, \lnot \exists x \paren{\varphi \to \psi}, \varphi \to \exists x \psi \sequent \bot\)\quad （2, 9から(w), (e), (\(\lnot\)E)による，ただし\(b\)は新しい変数記号）
	\item \(\varphi, \lnot \exists x \paren{\varphi \to \psi}, \varphi \to \exists x \psi \sequent \lnot \lnot \subst{\psi}{b/x}\)\quad （10から(\(\lnot\)I)による）
	\item \(\varphi, \lnot \exists x \paren{\varphi \to \psi}, \varphi \to \exists x \psi \sequent \subst{\psi}{b/x}\)\quad （11から(DNF)による）
	\item \(\lnot \exists x \paren{\varphi \to \psi}, \varphi \to \exists x \psi \sequent \varphi \to \subst{\psi}{b/x}\)\quad （12から(\(\to\)I)による）
	\item \(\lnot \exists x \paren{\varphi \to \psi}, \varphi \to \exists x \psi \sequent \exists x \paren{\varphi \to \psi}\)\quad （13から(\(\exists\)I)による）
	\item \(\lnot \exists x \paren{\varphi \to \psi}, \varphi \to \exists x \psi \sequent \bot\)\quad （2, 14から(w), (e), (\(\lnot\)I)による）
	\item \(\varphi \to \exists x \psi \sequent \lnot \lnot \exists x \paren{\varphi \to \psi}\)\quad （15から(\(\lnot\)I)による）
	\item \(\varphi \to \exists x \psi \sequent \exists x \paren{\varphi \to \psi}\)\quad （16から(DNF)による）
\end{enumerate}
ここで，8, 14の導出にあたっては，\(\varphi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \to \psi}}{a/x}, \subst{\paren{\varphi \to \psi}}{b/x}\)がそれぞれ
\(\varphi \to \subst{\psi}{a/x}, \varphi \to \subst{\psi}{b/x}\)と同じ論理式であることを用いた．

\(\forall x \paren{\varphi \land \psi} \sequent \forall x \varphi \land \forall x \psi\)の導出：
\begin{enumerate}
	\item \(\forall x \paren{\varphi \land \psi} \sequent \forall x \paren{\varphi \land \psi}\)\quad (ID)
	\item \(\forall x \paren{\varphi \land \psi} \sequent \subst{\varphi}{a/x} \land \subst{\psi}{a/x}\)\quad （1から(\(\forall\)E)による，ただし\(a\)は新しい変数記号）
	\item \(\forall x \paren{\varphi \land \psi} \sequent \subst{\varphi}{a/x}\)\quad （2から(\(\land\)E)による）
	\item \(\forall x \paren{\varphi \land \psi} \sequent \forall x \varphi\)\quad （3から(\(\forall\)I)による）
	\item \(\forall x \paren{\varphi \land \psi} \sequent \forall x \psi\)\quad （上と同様にして導けるので省略）
	\item \(\forall x \paren{\varphi \land \psi} \sequent \forall x \varphi \land \forall x \psi\)\quad （4, 5から(\(\land\)I), (c)による）
\end{enumerate}

\(\forall x \varphi \land \forall x \psi \sequent \forall x \paren{\varphi \land \psi}\)の導出：
\begin{enumerate}
	\item \(\forall x \varphi \land \forall x \psi \sequent \forall x \varphi \land \forall x \psi\)\quad (ID)
	\item \(\forall x \varphi \land \forall x \psi \sequent \forall x \varphi\)\quad （1から(\(\land\)E)による）
	\item \(\forall x \varphi \land \forall x \psi \sequent \subst{\varphi}{a/x}\)\quad （2から(\(\forall\)E)による，ただし\(a\)は新しい変数記号）
	\item \(\forall x \varphi \land \forall x \psi \sequent \subst{\psi}{a/x}\)\quad （上と同様にして導けるので省略）
	\item \(\forall x \varphi \land \forall x \psi \sequent \subst{\varphi}{a/x} \land \subst{\psi}{a/x}\)\quad （3, 4から(\(\land\)I), (c)による）
	\item \(\forall x \varphi \land \forall x \psi \sequent \forall x \paren{\varphi \land \psi}\)\quad （5から(\(\forall\)I)による）
\end{enumerate}

\(\exists x \paren{\varphi \lor \psi} \sequent \exists x \varphi \lor \exists x \psi\)の導出：
\begin{enumerate}
	\item \(\exists x \paren{\varphi \lor \psi} \sequent \exists x \paren{\varphi \lor \psi}\)\quad (ID)
	\item \(\subst{\varphi}{a/x} \lor \subst{\psi}{a/x} \sequent \subst{\varphi}{a/x} \lor \subst{\psi}{a/x}\)\quad (ID)
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x}\)\quad (ID)
	\item \(\subst{\varphi}{a/x} \sequent \exists x \varphi\)\quad （3から(\(\exists\)I)による）
	\item \(\subst{\varphi}{a/x} \sequent \exists x \varphi \lor \exists x \psi\)\quad （4から(\(\lor\)I)による）
	\item \(\subst{\psi}{a/x} \sequent \exists x \varphi \lor \exists x \psi\)\quad （上と同様にして導けるので省略）
	\item \(\subst{\varphi}{a/x} \lor \subst{\psi}{a/x} \sequent \exists x \varphi \lor \exists x \psi\)\quad （2, 5, 6から(\(\lor\)E)による）
	\item \(\exists x \paren{\varphi \lor \psi} \sequent \exists x \varphi \lor \exists x \psi\)\quad （1, 7から(\(\exists\)E)による）
\end{enumerate}

\(\exists x \varphi \lor \exists x \psi \sequent \exists x \paren{\varphi \lor \psi}\)の導出：
\begin{enumerate}
	\item \(\exists x \varphi \lor \exists x \psi \sequent \exists x \varphi \lor \exists x \psi\)\quad (ID)
	\item \(\exists x \varphi \sequent \exists x \varphi\)\quad (ID)
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x} \lor \subst{\psi}{a/x}\)\quad （3から(\(\lor\)I)による）
	\item \(\exists x \varphi \sequent \exists x \paren{\varphi \lor \psi}\)\quad （2, 4から(\(\exists\)E)による）
	\item \(\exists x \psi \sequent \exists x \paren{\varphi \lor \psi}\)\quad （上と同様にして導けるので省略）
	\item \(\exists x \varphi \lor \exists x \psi \sequent \exists x \paren{\varphi \lor \psi}\)\quad （1, 5, 6から(\(\lor\)E)による）
\end{enumerate}

\(\forall x \paren{\varphi \lor \psi} \sequent \forall x \varphi \lor \psi\)の導出：
\begin{enumerate}
	\item \(\forall x \paren{\varphi \lor \psi} \sequent \forall x \paren{\varphi \lor \psi}\)\quad (ID)
	\item \(\lnot \paren{\forall x \varphi \lor \psi} \sequent \lnot \paren{\forall x \varphi \lor \psi}\)\quad (ID)
	\item \(\forall x \paren{\varphi \lor \psi} \sequent \subst{\varphi}{a/x} \lor \psi\)\quad （1から(\(\forall\)E)による，ただし\(a\)は新しい変数記号）
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x}\)\quad (ID)
	\item \(\psi \sequent \psi\)\quad (ID)
	\item \(\lnot \psi \sequent \lnot \psi\)\quad (ID)
	\item \(\lnot \subst{\varphi}{a/x}, \psi, \lnot \psi \sequent \bot\)\quad （5, 6から(w), (e), (\(\lnot\)E)による）
	\item \(\psi, \lnot \psi \sequent \lnot \lnot \subst{\varphi}{a/x}\)\quad （7から(\(\lnot\)I)による）
	\item \(\psi, \lnot \psi \sequent \subst{\varphi}{a/x}\)\quad （8から(DNF)による）
	\item \(\forall x \paren{\varphi \lor \psi}, \lnot \psi \sequent \subst{\varphi}{a/x}\)\quad （3, 4, 9から(\(\lor\)E)による）
	\item \(\forall x \paren{\varphi \lor \psi}, \lnot \psi \sequent \forall x \varphi\)\quad （10から(\(\forall\)I)による）
	\item \(\forall x \paren{\varphi \lor \psi}, \lnot \psi \sequent \forall x \varphi \lor \psi\)\quad （11から(\(\lor\)I)による）
	\item \(\lnot \psi, \lnot \paren{\forall x \varphi \lor \psi}, \forall x \paren{\varphi \lor \psi} \sequent \bot\)\quad （2, 12から(\(\lnot\)E)による）
	\item \(\lnot \paren{\forall x \varphi \lor \psi}, \forall x \paren{\varphi \lor \psi} \sequent \lnot \lnot \psi\)\quad （13から(\(\lnot\)I)による）
	\item \(\lnot \paren{\forall x \varphi \lor \psi}, \forall x \paren{\varphi \lor \psi} \sequent \psi\)\quad （14から(DNF)による）
	\item \(\lnot \paren{\forall x \varphi \lor \psi}, \forall x \paren{\varphi \lor \psi} \sequent \forall x \varphi \lor \psi\)\quad （15から(\(\lor\)I)による）
	\item \(\lnot \paren{\forall x \varphi \lor \psi}, \forall x \paren{\varphi \lor \psi} \sequent \bot\)\quad （2, 16から(w), (e), (\(\lnot\)E)による）
	\item \(\forall x \paren{\varphi \lor \psi} \sequent \lnot \lnot \paren{\forall x \varphi \lor \psi}\)\quad （17から(\(\lnot\)I)による）
	\item \(\forall x \paren{\varphi \lor \psi} \sequent \forall x \varphi \lor \psi\)\quad （18から(DNF)による）
\end{enumerate}
ここで，3の導出にあたっては，\(\psi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \lor \psi}}{a/x}\)と\(\subst{\varphi}{a/x} \lor \psi\)が同じ論理式であることを用いた．

\(\forall x \varphi \lor \psi \sequent \forall x \paren{\varphi \lor \psi}\)の導出：
\begin{enumerate}
	\item \(\forall x \varphi \lor \psi \sequent \forall x \varphi \lor \psi\)\quad (ID)
	\item \(\forall x \varphi \sequent \forall x \varphi\)\quad (ID)
	\item \(\forall x \varphi \sequent \subst{\varphi}{a/x}\)\quad （2から(\(\forall\)E)による，ただし\(a\)は新しい変数記号）
	\item \(\forall x \varphi \sequent \subst{\varphi}{a/x} \lor \psi\)\quad （3から(\(\lor\)I)による）
	\item \(\forall x \varphi \sequent \forall x \paren{\varphi \lor \psi}\)\quad （4から(\(\forall\)I)による）
	\item \(\psi \sequent \forall x \paren{\varphi \lor \psi}\)\quad （上と同様にして導けるので省略）
	\item \(\forall x \varphi \lor \psi \sequent \forall x \paren{\varphi \lor \psi}\)\quad （1, 5, 6から(\(\lor\)E)による）
\end{enumerate}
ここで，5の導出にあたっては，\(\psi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \lor \psi}}{a/x}\)と\(\subst{\varphi}{a/x} \lor \psi\)が同じ論理式であることを用いた．

\(\exists x \paren{\varphi \land \psi} \sequent \exists x \varphi \land \psi\)の導出：
\begin{enumerate}
	\item \(\exists x \paren{\varphi \land \psi} \sequent \exists x \paren{\varphi \land \psi}\)\quad (ID)
	\item \(\subst{\varphi}{a/x} \land \psi \sequent \subst{\varphi}{a/x} \land \psi\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\subst{\varphi}{a/x} \land \psi \sequent \subst{\varphi}{a/x}\)\quad （2から(\(\land\)E)による）
	\item \(\subst{\varphi}{a/x} \land \psi \sequent \exists x \varphi\)\quad （3から(\(\exists\)I)による）
	\item \(\subst{\varphi}{a/x} \land \psi \sequent \psi\)\quad （2から(\(\land\)E)による）
	\item \(\subst{\varphi}{a/x} \land \psi \sequent \exists x \varphi \land \psi\)\quad （4, 5から(\(\land\)I), (c)による）
	\item \(\exists x \paren{\varphi \land \psi} \sequent \exists x \varphi \land \psi\)\quad （6から(\(\exists\)E)による）
\end{enumerate}
ここで，7の導出にあたっては，\(\psi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \land \psi}}{a/x}\)と\(\subst{\varphi}{a/x} \land \psi\)が同じ論理式であることを用いた．

\(\exists x \varphi \land \psi \sequent \exists x \paren{\varphi \land \psi}\)の導出：
\begin{enumerate}
	\item \(\exists x \varphi \land \psi \sequent \exists x \varphi \land \psi\)\quad (ID)
	\item \(\exists x \varphi \land \psi \sequent \psi\)\quad （2から(\(\land\)E)による）
	\item \(\exists x \varphi \land \psi \sequent \exists x \varphi\)\quad （1から(\(\land\)E)による）
	\item \(\subst{\varphi}{a/x} \sequent \subst{\varphi}{a/x}\)\quad （(ID)，ただし\(a\)は新しい変数記号）
	\item \(\subst{\varphi}{a/x}, \exists x \varphi \land \psi \sequent \subst{\varphi}{a/x} \land \psi\)\quad （2, 4から(\(\land\)I)による）
	\item \(\subst{\varphi}{a/x}, \exists x \varphi \land \psi \sequent \exists x \paren{\varphi \land \psi}\)\quad （5から(\(\exists\)I)による）
	\item \(\exists x \varphi \land \psi \sequent \exists x \paren{\varphi \land \psi}\)\quad （3, 6から(\(\exists\)E), (c)による）
\end{enumerate}
ここで，6の導出にあたっては，\(\psi\)に\(x\)が自由出現しないことにより
\(\subst{\paren{\varphi \land \psi}}{a/x}\)と\(\subst{\varphi}{a/x} \land \psi\)が同じ論理式であることを用いた．


\subsection*{\Cref{Que:peirce}}

\begin{enumerate}
	\item \(\paren{\varphi \to \psi} \to \varphi \sequent \paren{\varphi \to \psi} \to \varphi\)\quad (ID)
	\item \(\lnot \varphi \sequent \lnot \varphi\)\quad (ID)
	\item \(\varphi \sequent \varphi\)\quad (ID)
	\item \(\lnot \psi, \varphi, \lnot \varphi \sequent \bot\)\quad （2, 3から(w), (e), (\(\lnot\)E)による）
	\item \(\varphi, \lnot \varphi \sequent \lnot \lnot \psi\)\quad （4から(\(\lnot\)I)による）
	\item \(\varphi, \lnot \varphi \sequent \psi\)\quad （5から(DNF)による）
	\item \(\lnot \varphi \sequent \varphi \to \psi\)\quad （6から(\(\to\)I)による）
	\item \(\lnot \varphi, \paren{\varphi \to \psi} \to \varphi \sequent \varphi\)\quad （1, 7から(\(\to\)E)による）
	\item \(\lnot \varphi, \paren{\varphi \to \psi} \to \varphi \sequent \bot\)\quad （2, 8から(w), (e), (\(\lnot\)E)による）
	\item \(\paren{\varphi \to \psi} \to \varphi \sequent \lnot \lnot \varphi\)\quad （9から(\(\lnot\)I)による）
	\item \(\paren{\varphi \to \psi} \to \varphi \sequent \varphi\)\quad （10から(DNF)による）
\end{enumerate}

\subsection*{\Cref{Que:equalsignrelation}}

まずは\cref{Thm:equalsign}を示す．
\(s_i, t_i\)に登場しない，つまり\(s_i, t_i\)に自由出現も束縛出現もしない変数記号\(x\)をとる．
論理式
\begin{equation*}
	\apply{f}{s_1, s_2, \dots, s_i, \dots, s_n} \objeq \apply{f}{s_1, s_2, \dots, x, \dots, s_n}
\end{equation*}
を\(\varphi\)とすると，\(\varphi\)中の\(x\)に\(s_i, t_i\)は代入可能である．このとき，論理式
\begin{equation*}
	\apply{f}{s_1, s_2, \dots, s_i, \dots, s_n} \objeq \apply{f}{s_1, s_2, \dots, s_i, \dots, s_n}
\end{equation*}
は\(\subst{\varphi}{s_i /x}\)
と書きかえられ，論理式\(\subst{\varphi}{t_i / x}\)は
\begin{equation*}
	\apply{f}{s_1, s_2, \dots, s_i, \dots, s_n} \objeq \apply{f}{s_1, s_2, \dots, t_i, \dots, s_n}
\end{equation*}
を意味する．
よって，シークエント
\begin{equation*}
	s_i \objeq t_i \sequent \subst{\varphi}{t_i / x}
\end{equation*}
を導出すれば定理の証明は完了する．
シークエント\(\sequent \subst{\varphi}{s_i / x}\)は(REFL)によって導出可能であることに注意しよう．
目的のシークエントの導出は下記で与えられる：
\begin{enumerate}
	\item \(s_i \objeq t_i \sequent s_i \objeq t_i\)\quad (ID)
	\item \(\sequent \subst{\varphi}{s_i / x}\)\quad (REFL)
	\item \(s_i \objeq t_i \sequent \subst{\varphi}{t_i / x}\)\quad （1, 2から(SUBST)による）
\end{enumerate}

次に\cref{Thm:equalsignrelation}を示そう．まずは\cref{eq:equalsignsymmetry}を導出する．
ここで\(s, t\)のどちらにも登場しない変数記号\(x\)をとり，論理式\(x \objeq s\)
を\(\varphi\)とすると，\cref{eq:equalsignsymmetry}は
\begin{equation*}
	s \objeq t \sequent \subst{\varphi}{t / x}
\end{equation*}
と書きかえられる．
このシークエントは以下のように導出される：
\begin{enumerate}
	\item \(s \objeq t \sequent s \objeq t\)\quad (ID)
	\item \(\sequent \subst{\varphi}{s/x}\)\quad (REFL)
	\item \(s \objeq t \sequent \subst{\varphi}{t/x}\)\quad （1, 2から(SUBST)による）
\end{enumerate}

最後に\cref{eq:equalsigntransitivity}を導出しよう．
ここでは，\(s, t, u\)のいずれにも登場しない変数記号\(x\)をとり，論理式\(x \objeq u\)を\(\varphi\)で表す．
すると，\cref{eq:equalsigntransitivity}は
\begin{equation*}
	\paren{s \objeq t} \land \paren{t \objeq u} \sequent \subst{\varphi}{s/x}
\end{equation*}
と書きかえられる．
このシークエントは以下のように導出される：
\begin{enumerate}
	\item \(\paren{s \objeq t} \land \paren{t \objeq u} \sequent \paren{s \objeq t} \land \paren{t \objeq u}\)\quad (ID)
	\item \(\paren{s \objeq t} \land \paren{t \objeq u} \sequent s \objeq t\)\quad （1から(\(\land\)E)による）
	\item \(\sequent s \objeq t \to t \objeq s\)\quad （\Cref{eq:equalsignsymmetry}と(\(\to\)I)による）
	\item \(\paren{s \objeq t} \land \paren{t \objeq u} \sequent t \objeq s\)\quad （2, 3から(\(\to\)E)による）
	\item \(\paren{s \objeq t} \land \paren{t \objeq u} \sequent \subst{\varphi}{t/x}\)\quad （1から(\(\land\)E)による）
	\item \(\paren{s \objeq t} \land \paren{t \objeq u} \sequent \subst{\varphi}{s/x}\)\quad （4, 5から(SUBST)による）
\end{enumerate}

\section*{\Cref{chap:advanced}}

\subsection*{\Cref{Que:completeness}}

対偶，すなわち\(\Gamma \provable \varphi\)でないと仮定して\(\Gamma \satisfy \varphi\)でないことを示す．
\(\Gamma \provable \varphi\)でないので，\(\Gamma \cup \Set{\lnot \varphi}\)が無矛盾となる．
実際，\(\Gamma \cup \Set{\lnot \varphi}\)が矛盾すると仮定すると(\(\lnot\)I)規則と
(DNF)規則により\(\Gamma \provable \varphi\)となる．
\Cref{Thm:HenkinTheorem}により，\(\Gamma \cup \Set{\lnot \varphi}\)のモデル\(\symcal{M}\)が存在する．
この\(\symcal{M}\)は\(\symcal{M} \satisfy \lnot \varphi\)を満たすので\(\symcal{M} \satisfy \varphi\)
は成り立たず，従って\(\Gamma \satisfy \varphi\)ではない．


\subsection*{\Cref{Que:Herbrandstructurewelldefineded}}

まずは\cref{eq:herbrandequivalencerelation}で定義される二項関係\(\sim\)が同値関係であることを示す．
\(x \in X\)を1つとる．このとき，等号に関する公理(REFL)によって\(\Gamma \provable x \objeq x\)だから\(x \sim x\)である．
次に\(x, y \in X\)を任意にとり，\(x \sim y\)とする．このとき\(\Gamma \provable x \objeq y\)であるから，
\cref{Thm:equalsignrelation}の\cref{eq:equalsignsymmetry}が導出可能であることや
(\(\to\)I), (\(\to\)E)規則などによって\(\Gamma \provable y \objeq x\)であることが従う．
よって\(y \sim x\)である．
最後に\(x, y, z \in X\)を任意にとり，\(x \sim y\)かつ\(y \sim z\)であるとする．
このとき，\(\Gamma \provable x \objeq y\)かつ\(\Gamma \provable y \objeq z\)である．
\cref{eq:equalsigntransitivity}が導出可能であることや
(\(\land\)I), (\(\to\)I), (\(\to\)E)規則などによって\(\Gamma \provable x \objeq z\)となることがわかる．
ゆえに\(x \sim z\)である．
以上より，\(\sim\)は\(X\)上の同値関係である．

\Cref{eq:herbrandinterpretationconstantsymbol}から\cref{eq:herbrandinterpretationrelationsymbol}で
定義された\(\symcal{L}\)の各記号の\(\symcal{M}\)による解釈がその代表元のとりかたによらないことを示す．
\Cref{eq:herbrandinterpretationconstantsymbol}における定数記号の解釈は，もともと代表元を使っての定義ではない．
よって，\cref{eq:herbrandinterpretationfunctionsymbol}と\cref{eq:herbrandinterpretationrelationsymbol}についてのみ確かめればよい．
まずは\cref{eq:herbrandinterpretationfunctionsymbol}について確かめよう．
閉項\(t_1, t_2, \dots, t_n, s_1, s_2, \dots, s_n\)について，\(i = 1, 2, \dots, n\)に対して\(t_i \sim s_i\)であるとする．
このとき，\(\apply{f}{t_1, t_2, \dots, t_n} \sim \apply{f}{s_1, s_2, \dots, s_n}\)であることを示せばよい．
\(t_1, t_2, \dots, t_n, s_1, s_2, \dots, t_n\)のいずれにも出現しない，つまり自由出現も束縛出現もしない変数記号
\(x_1, x_2, \dots, x_n\)をとり，以下の論理式を\(\varphi\)とする：
\[
	\apply{f}{t_1, t_2, \dots, t_n} \objeq \apply{f}{x_1, x_2, \dots, x_n}
\]
このとき，\cref{Que:equalsignrelation}と同様にして，シークエント
\[
	\paren{t_1 \objeq s_1} \land \paren{t_2 \objeq s_2} \land \dotsb \land \paren{t_n \objeq s_n}
	\sequent \apply{f}{t_1, t_2, \dots, t_n} \objeq \apply{f}{s_1, s_2, \dots, s_n}
\]
が導出可能であることがわかる（\cref{Que:equalsignrelation}の議論をもとにして\(f\)のアリティ\(n\)に関する数学的帰納法を適用すればよい）．
(\(\land\)I), (\(\to\)I), (\(\to\)E)などの規則と\(f\)のアリティ\(n\)に関する数学的帰納法によって
\[
	\Gamma \provable \apply{f}{t_1, t_2, \dots, t_n} \objeq \apply{f}{s_1, s_2, \dots, s_n}
\]
が成り立つことがわかる．
以上より\(\apply{f}{t_1, t_2, \dots, t_n} \sim \apply{f}{s_1, s_2, \dots, s_n}\)であって，
\cref{eq:herbrandinterpretationfunctionsymbol}による定義が代表元のとりかたに依存しないことがわかる．
次に\cref{eq:herbrandinterpretationrelationsymbol}について確かめよう．
閉項\(t_1, t_2, \dots, t_n, s_1, s_2, \dots, s_n\)について，\(i = 1, 2, \dots, n\)に対して\(t_i \sim s_i\)であるとする．
このとき，
\[
	\Gamma \provable \apply{r}{t_1, t_2, \dots, t_n} \metaequivalent \Gamma \provable \apply{r}{s_1, s_2, \dots, s_n}
\]
であることを示せばよい．\(\sim\)が同値関係であることを踏まえれば，
\[
	\Gamma \provable \apply{r}{t_1, t_2, \dots, t_n} \metaimplies \Gamma \provable \apply{r}{s_1, s_2, \dots, s_n}
\]
を示せば十分である．いま，
\[
	\Gamma \provable \apply{r}{t_1, t_2, \dots, t_n}
\]
と仮定する．
\(t_1, t_2, \dots, t_n, s_1, s_2, \dots, t_n\)のいずれにも出現しない，つまり自由出現も束縛出現もしない変数記号
\(x_1, x_2, \dots, x_n\)をとる．
このとき，(SUBST)などの規則と\(r\)のアリティ\(n\)に関する数学的帰納法によって
\[
	\Gamma \provable \apply{r}{s_1, s_2, \dots, s_n}
\]
が成り立つことがわかる．
従って，\cref{eq:herbrandinterpretationrelationsymbol}による
\(r\)の\(\symcal{M}\)による解釈の定義はその代表元のとりかたに依存しない．


\subsection*{\Cref{Que:herbrandsemantics}}

1.を閉項\(t\)の構成に関する帰納法により示す．\(t\)が定数記号\(c\)ならば
\(\interpretation{\symcal{M}}{c} = \equivclass{c}\)である．
\(f\)をアリティ\(n\)の関数記号，閉項\(t_1, t_2, \dots, t_n\)に対して
\(\apply{f}{t_1, t_2, \dots, t_n}\)と表される閉項\(t\)に対しては，帰納法の仮定により
\begin{align*}
	\interpretation{\symcal{M}}{t} & = \interpretation{\symcal{M}}{\apply{f}{t_1, t_2, \dots, t_n}}                                                                                        \\
	                               & = \apply{\interpretation{\symcal{M}}{f}}{\interpretation{\symcal{M}}{t_1}, \interpretation{\symcal{M}}{t_2}, \dots, \interpretation{\symcal{M}}{t_n}} \\
	                               & = \apply{\interpretation{\symcal{M}}{f}}{\equivclass{t_1}, \equivclass{t_2}, \dots, \equivclass{t_n}}                                                 \\
	                               & = \equivclass{\apply{f}{t_1, t_2, \dots, t_n}}                                                                                                        \\
	                               & = \equivclass{t}
\end{align*}
となる．よってすべての閉項\(t\)に対して\(\interpretation{\symcal{M}}{t} = \equivclass{t}\)が成り立つ．

2.について，\(n = 1\)の場合に示そう．
\(\symcal{M}\)の対象領域を\(M\)とする．
以下，\(a \in M\)の名前を\(c_a\)で表す．
論理式\(\psi\)の構成に関する帰納法で示す．
\(\psi\)に\(x_1\)が自由出現しない場合には明らか．\(\psi\)に\(x_1\)が自由出現する場合を考える．
\(\psi\)に自由出現する変数記号は\(x_1\)のみである．

\(\psi\)が項\(s_1, s_2\)を用いた\(s_1 \objeq s_2\)の形である場合を考える．
このとき
\begin{align*}
	                & \symcal{M} \satisfy \varphi                                                                                                          \\
	\metaequivalent & \text{すべての\(a \in M\)に対して\(\symcal{M} \satisfy \subst{\varphi}{c_a/x_1}\)}                                                           \\
	\metaequivalent & \text{すべての\(a \in M\)に対して\(\symcal{M} \satisfy \subst{s_1}{c_a/x_1} \objeq \subst{s_2}{c_a/x_1}\)}                                   \\
	\metaequivalent & \text{すべての\(a \in M\)に対して\(\interpretation{\symcal{M}}{\subst{s_1}{c_a/x_1}} = \interpretation{\symcal{M}}{\subst{s_2}{c_a/x_1}}\)}.
\end{align*}
ここで，項の構成に関する帰納法によって\(\interpretation{\symcal{M}}{\subst{s_1}{c_a/x_1}} = \interpretation{\symcal{M}}{\subst{s_1}{a/x_1}}\)が成り立つことがわかる（\(s_2\)についても同様）ので，
\[
	\symcal{M} \satisfy \varphi \metaequivalent \text{すべての\(a \in M\)に対して\(\interpretation{\symcal{M}}{\subst{s_1}{a/x_1}} =
		\interpretation{\symcal{M}}{\subst{s_2}{a/x_1}}\)}
\]
が成り立つ．各\(a \in M\)はある閉項\(t\)についての同値類\(\equivclass{t}\)なので，\(a = \equivclass{t_1}\)とすれば1.もあわせて
\(\interpretation{\symcal{M}}{\subst{s_1}{a/x_1}} = \interpretation{\symcal{M}}{\subst{s_1}{t_1/x_1}}\)だから
\[
	\symcal{M} \satisfy \varphi \metaequivalent \text{すべての閉項\(t_1\)に対して\(\interpretation{\symcal{M}}{\subst{s_1}{t_1/x_1}} = \interpretation{\symcal{M}}{\subst{s_2}{t_1/x_1}}\)}
\]
となる．この主張は2.にほかならない．

\(\psi\)がアリティ\(m\)の関係記号\(r\)と項\(s_1, s_2, \dots, s_n\)を用いた\(\apply{r}{s_1, s_2, \dots, s_n}\)の形である場合を考える．
このとき
\begin{align*}
	                & \symcal{M} \satisfy \varphi                                                \\
	\metaequivalent & \text{すべての\(a \in M\)に対して\(\symcal{M} \satisfy \subst{\varphi}{c_a/x_1}\)} \\
	\metaequivalent & \text{すべての\(a \in M\)に対して\(\pair{
			\interpretation{\symcal{M}}{\subst{s_1}{c_a/x_1}}, \interpretation{\symcal{M}}{\subst{s_2}{c_a/x_1}}, \dots, \interpretation{\symcal{M}}{\subst{s_n}{c_a/x_1}}
		} \in \interpretation{\symcal{M}}{r}
	\)}                                                                                          \\
	\metaequivalent & \text{すべての閉項\(t_1\)に対して\(\pair{
			\interpretation{\symcal{M}}{\subst{s_1}{t_1/x_1}}, \interpretation{\symcal{M}}{\subst{s_2}{t_1/x_1}}, \dots, \interpretation{\symcal{M}}{\subst{s_n}{t_1/x_1}}
		}
		\in \interpretation{\symcal{M}}{r}\)}
\end{align*}
となる．よって2.の主張が従う．

\(\psi\)が複合論理式である場合を考える．論理記号\(\lnot, \land, \lor, \to\)については容易である．
\(\psi\)が\(\forall y \chi\)の形である場合を考えよう．
\(\psi\)に\(x_1\)が自由出現しているので，\(x, y\)は異なる変数記号である．
閉項\(t_1\)を任意にとったとき，\(y\)は\(t_1\)に現れないとみなしてよい（そうでない場合，\(\varphi\)への代入を考える際にすでに\(y\)を別の変数記号で置き換えているはずである）．
帰納法の仮定により\(\chi\)は2.の主張を満たすので，\cref{Def:semanticimplies}から明らかに\(\forall y \chi\)も2.の主張を満たす．
\(\psi\)が\(\exists y \chi\)の形の場合も同様である．

以上の議論により\(n = 1\)の場合には2.の主張が示された．一般の\(n\)の場合も代入する項の個数が増えるだけでまったく同様である．

3.を示す．
\(\varphi\)は以下の2つの場合が考えられる．
\begin{itemize}
	\item 閉項\(s_1, s_2\)を用いた\(s_1 \objeq s_2\)の形，
	\item アリティ\(n\)の関係記号\(r\)と閉項\(t_1, t_2, \dots, t_n\)を用いた\(\apply{r}{t_1, t_2, \dots, t_n}\)の形．
\end{itemize}
1つ目については
\begin{align*}
	                & \symcal{M} \satisfy \varphi                                         \\
	\metaequivalent & \symcal{M} \satisfy s_1 \objeq s_2                                  \\
	\metaequivalent & \interpretation{\symcal{M}}{s_1} = \interpretation{\symcal{M}}{s_2} \\
	\metaequivalent & \equivclass{s_1} = \equivclass{s_2}                                 \\
	\metaequivalent & \Gamma \provable s_1 \objeq s_2
\end{align*}
となり，2つ目については
\begin{align*}
	                & \symcal{M} \satisfy \varphi                         \\
	\metaequivalent & \symcal{M} \satisfy \apply{r}{s_1, s_2, \dots, s_n} \\
	\metaequivalent & \pair{
		\interpretation{\symcal{M}}{s_1}, \interpretation{\symcal{M}}{s_2}, \dots, \interpretation{\symcal{M}}{s_n}
	} \in \interpretation{\symcal{M}}{r}                                  \\
	\metaequivalent & \pair{
		\equivclass{s_1}, \equivclass{s_2}, \dots, \equivclass{s_n}
	} \in \interpretation{\symcal{M}}{r}                                  \\
	\metaequivalent & \Gamma \provable \apply{r}{t_1, t_2, \dots, t_n}
\end{align*}
のように示すことができる．

最後に4.を示そう．\(\varphi\)が原子論理式\(\apply{\psi}{x_1, x_2, \dots, x_n}\)の全称閉包であり，
\(\varphi\)に自由出現する変数記号は\(x_1, x_2, \dots, x_n\)のみであるとする．
2.により，すべての閉項\(t_1, t_2, \dots, t_n\)に対して\(\symcal{M} \satisfy \apply{\psi}{t_1, t_2, \dots, t_n}\)
となることを示せば十分．
さて，\(\Gamma \provable \forall x_1 \forall x_2 \dotsb \forall x_n \apply{\psi}{x_1, x_2, \dots, x_n}\)
だから，(\(\forall\)E)規則を繰り返し用いて
\(\Gamma \provable \apply{\psi}{t_1, t_2, \dots, t_n}\)を得る．
\(\apply{\psi}{t_1, t_2, \dots, t_n}\)は原子論理式かつ閉論理式だから，3.により\(\symcal{M} \satisfy \apply{\psi}{t_1, t_2, \dots, t_n}\)となる．


\subsection*{\Cref{Que:polynomialringherbrandmodel}}

以降の議論では不定元は1つで十分である．それを\(x\)とおく．

まずは\(\RealNumbers\)上の多項式環について考えよう．
通常の数学では，以下のような多項式の計算は妥当なものとして扱われる：
\[
	\paren{2x + \sqrt{2}} \paren{x + \sqrt{2}} = \paren{2x^2 + 3 \sqrt{2} + 2}.
\]
この計算が妥当であることは，我々が\cref{Ex:polynomialringherbrandmodel}で定義した多項式環においては
\[
	\equivclass{\paren{2x \obj{+} \sqrt{2}} \obj{\cdot} \paren{x \obj{+} \sqrt{2}}}
	= \equivclass{2 \obj{\cdot} x \obj{\cdot} x \obj{+} 3 \obj{\cdot} \sqrt{2} \obj{\cdot} x + 2}
\]
という主張に相当する．
これが成り立つためには
\[
	\Gamma \provable
	\paren{2x \obj{+} \sqrt{2}} \obj{\cdot} \paren{x \obj{+} \sqrt{2}}
	\objeq
	2 \obj{\cdot} x \obj{\cdot} x \obj{+} 3 \obj{\cdot} \sqrt{2} \obj{\cdot} x + 2
\]
が成り立つことが必要十分である．
これを示すためには，理論\(\Ring\)で得られる一般論のほかに\(\RealNumbers\)で成り立っている
\[
	\sqrt{2} \cdot \sqrt{2} = 2
\]
といった事実を用いる必要がある．このような事実に相当する論理式は
\(\apply{\Diag}{\RealNumbers}\)の元である．

次に，\cref{Ex:polynomialringherbrandmodel}における\(\Gamma\)として，
\(\Ring\)に\(\apply{\Diag}{\symcal{R}}\)ではなく\(\apply{\eDiag}{\symcal{R}}\)を加えた場合を考えよう．
\(\symcal{R}\)としては剰余環\(\Integers/2\Integers\)を考える．
よく知られているように，\(\Integers/2\Integers\)は
\[
	\Integers/2\Integers \satisfy \forall x \paren{x \obj{\cdot} x \obj{\cdot} x = x}
\]
を満たす．この論理式を\(\varphi\)としよう．
\(\varphi\)は\(\apply{\eDiag}{\Integers/2\Integers}\)の元である．
一方，\(\varphi\)は\(\forall\)を含むため\(\apply{\Diag}{\Integers/2\Integers}\)の元ではない．
さて，通常の数学における\(\Integers/2\Integers\)上の多項式の計算では，
多項式\(x\)と多項式\(x^3\)は異なる多項式とみなされる．
よって，Herbrand構造を定義する際にベースとした理論\(\Gamma\)には\(\varphi\)が含まれていてはいけない．

以上のような事情により，\cref{Ex:polynomialringherbrandmodel}では
\(\Gamma\)として\(\Ring\)に\(\apply{\Diag}{\symcal{R}}\)を加えたのであった．
